
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Build an Email Application using Node JS Express JS with Gmail and Nodemailer - (All in one Article) - DEV Community</title>
      <meta name="last-updated" content="2021-11-21 18:41:43 UTC">
      <meta name="user-signed-in" content="false">
      <meta name="head-cached-at" content="1637520103">
        <!-- Experimental web monetization payment pointer for micropayments -->
        <!-- It lets readers make micropayments to websites they visit. -->
        <!-- This is step 1: Get live in production to test for platform-wide payment pointer. -->
        <!-- Step 2: Allow authors to set their payment pointer so they can directly monetize their content based on visitors. -->
        <!-- Step 3: Enable further functionality based on what we learn from this experimentation and how the ecosystem evolves. -->
        <meta name="monetization" content="$ilp.uphold.com/24HhrUGG7ekn">
      <meta name="environment" content="production">
      <link rel="stylesheet" media="all" href="https://dev.to/assets/minimal-10671231be61712f9488bb0fc1a9535f49991e3807ff7887a75192ec91376748.css" id="main-minimal-stylesheet" />
<link rel="stylesheet" media="all" href="https://dev.to/assets/views-fa0bf035db8db8bf8b398dc8845d2e9f069464bbb237eadb57d526d246207bbd.css" id="main-views-stylesheet" />
<link rel="stylesheet" media="all" href="https://dev.to/assets/crayons-d6e95a71c4844d3b1c78f7b84da3367cb170898c3831e24bf0f27696eecdf411.css" id="main-crayons-stylesheet" />

        <script src="https://dev.to/packs/js/runtime~base-fad1dd56a06426226d59.js" defer="defer"></script>
<script src="https://dev.to/packs/js/base-0bbd99008b613b75f0c5.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/runtime~Search-0ddc51a453b8c3e8f9d2.js" defer="defer"></script>
<script src="https://dev.to/packs/js/0-deb4a3d66346407460bf.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/2-feac54b0d5293fd89992.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/Search-9cd48152d4505a7c1795.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/runtime~runtimeBanner-d59816f20cd425b4e5c0.js" defer="defer"></script>
<script src="https://dev.to/packs/js/runtimeBanner-45a26cbd2d92357394b5.chunk.js" defer="defer"></script>
      <script src="https://dev.to/assets/base-c6dcbebe4cb14cde7ffba73efb9d4bed45204de3b3767313ad3a5e16499425ee.js" defer="defer"></script>
      
    <meta name="description" content="Hello 😊, my gorgeous friend on the internet 👋, how are you doing today?.  Sometimes we want to send...">
    <meta name="keywords" content="software, coding, development, engineering, inclusive, community">

    <meta property="og:type" content="article" />
    <meta property="og:title" content="Build an Email Application using Node JS Express JS with Gmail and Nodemailer - (All in one Article)" />
    <meta property="og:description" content="Hello 😊, my gorgeous friend on the internet 👋, how are you doing today?.  Sometimes we want to send..." />
    <meta property="og:site_name" content="DEV Community" />
    <meta name="twitter:site" content="@thepracticaldev">
    <meta name="twitter:creator" content="@Ayodele29338919">
    <meta name="twitter:title" content="Build an Email Application using Node JS Express JS with Gmail and Nodemailer - (All in one Article)">
    <meta name="twitter:description" content="Hello 😊, my gorgeous friend on the internet 👋, how are you doing today?.  Sometimes we want to send...">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:widgets:new-embed-design" content="on">
    <meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1">
      <meta property="og:image" content="https://res.cloudinary.com/practicaldev/image/fetch/s--9iV2k85h--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/m2slgwp6pylih1imqqik.png" />
      <meta name="twitter:image:src" content="https://res.cloudinary.com/practicaldev/image/fetch/s--9iV2k85h--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/m2slgwp6pylih1imqqik.png">

      <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
      <link rel="shortcut icon" type="image/x-icon" href="https://res.cloudinary.com/practicaldev/image/fetch/s--E8ak4Hr1--/c_limit,f_auto,fl_progressive,q_auto,w_32/https://dev-to.s3.us-east-2.amazonaws.com/favicon.ico" />
      <link rel="apple-touch-icon" href="https://res.cloudinary.com/practicaldev/image/fetch/s--gDM0_LTS--/c_limit,f_png,fl_progressive,q_80,w_180/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png">
      <link rel="apple-touch-icon" sizes="152x152" href="https://res.cloudinary.com/practicaldev/image/fetch/s--l0c3Kmql--/c_limit,f_png,fl_progressive,q_80,w_152/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png">
      <link rel="apple-touch-icon" sizes="180x180" href="https://res.cloudinary.com/practicaldev/image/fetch/s--gDM0_LTS--/c_limit,f_png,fl_progressive,q_80,w_180/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png">
      <link rel="apple-touch-icon" sizes="167x167" href="https://res.cloudinary.com/practicaldev/image/fetch/s--2ecYCSjC--/c_limit,f_png,fl_progressive,q_80,w_167/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png">
      <link href="https://res.cloudinary.com/practicaldev/image/fetch/s--t7tVouP9--/c_limit,f_png,fl_progressive,q_80,w_192/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png" rel="icon" sizes="192x192" />
      <link href="https://res.cloudinary.com/practicaldev/image/fetch/s--lrmEcD2H--/c_limit,f_png,fl_progressive,q_80,w_128/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png" rel="icon" sizes="128x128" />
      <meta name="apple-mobile-web-app-title" content="dev.to">
      <meta name="application-name" content="dev.to">
      <meta name="theme-color" content="#000000" />
      <link rel="search" href="https://dev.to/open-search.xml" type="application/opensearchdescription+xml" title="DEV Community" />

      <meta property="forem:name" content="DEV Community" />
      <meta property="forem:logo" content="https://res.cloudinary.com/practicaldev/image/fetch/s--PFPhV65b--/c_limit,f_png,fl_progressive,q_80,w_512/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png" />
      <meta property="forem:domain" content="dev.to" />
  </head>
      <body
        data-user-status="logged-out"
        class="sans-serif-article-body default-header"
        data-locale="en"
        data-honeybadger-key="a45862f6"
        data-deployed-at="2021-11-19T19:42:05Z"
        data-latest-commit-id="5a5a0a723a9bec19c2e99a449ce5e1b4636c1f6e"
        data-ga-tracking="UA-71991109-1">
        <link rel="stylesheet" media="all" href="https://dev.to/assets/minimal-10671231be61712f9488bb0fc1a9535f49991e3807ff7887a75192ec91376748.css" id="secondary-minimal-stylesheet" />
<link rel="stylesheet" media="all" href="https://dev.to/assets/views-fa0bf035db8db8bf8b398dc8845d2e9f069464bbb237eadb57d526d246207bbd.css" id="secondary-views-stylesheet" />
<link rel="stylesheet" media="all" href="https://dev.to/assets/crayons-d6e95a71c4844d3b1c78f7b84da3367cb170898c3831e24bf0f27696eecdf411.css" id="secondary-crayons-stylesheet" />

        <div id="body-styles">
          <style>
            :root {
              --accent-brand: #3b49df;
              --accent-brand-darker: #323ebe;
              --accent-brand-lighter: #4150f5;
              --accent-brand-a10: rgba(59, 73, 223, 0.10);
            }
          </style>
        </div>
        <div id="audiocontent" data-podcast="">
          
        </div>
        <div class="navigation-progress" id="navigation-progress"></div>
<div class="hamburger">
  <div class="hamburger__content">
    <header class="hamburger__content__header">
      <h2 class="fs-l fw-bold flex-1 break-word lh-tight">DEV Community</h2>

      <button class="crayons-btn crayons-btn--ghost crayons-btn--icon-rounded js-hamburger-trigger shrink-0">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="are0fj7ukftqmcdxp88v3wclc0qvcvok" class="crayons-icon"><title id="are0fj7ukftqmcdxp88v3wclc0qvcvok">Close</title><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636l4.95 4.95z"></path></svg>

      </button>
    </header>

    <div class="p-2">
      <div class="crayons-card crayons-card--secondary p-4">
  <h2 class="fs-l fw-bold mb-2">
    <a href="/">DEV Community</a> is a community of 746,017 amazing developers

  </h2>
  <p class="color-base-70 mb-4">
      We&#39;re a place where coders share, stay up-to-date and grow their careers.
  </p>
  <div>
    <a href="/enter?state=new-user" class="crayons-btn w-100 mb-2" aria-label="Create new account">Create account</a>
    <a href="/enter" class="crayons-btn crayons-btn--ghost-brand w-100" aria-label="Log in">Log in</a>
  </div>
</div>

      
<nav class="mb-6 mt-4" id="main-navigation" aria-label="DEV Community">
  <ul class="default-navigation-links sidebar-navigation-links spec-sidebar-navigation-links">
    <li>
      <a href="/" class="crayons-link crayons-link--block">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24" aria-hidden="true" class="crayons-icon crayons-icon--default">
    <g class="nc-icon-wrapper">
        <path fill="#A0041E" d="M13.344 18.702h-2a.5.5 0 01-.5-.5v-7a.5.5 0 01.5-.5h2a.5.5 0 01.5.5v7a.5.5 0 01-.5.5z"></path>
        <path fill="#FFE8B6" d="M9 20L22 7l13 13v17H9z"></path>
        <path fill="#FFCC4D" d="M22 20h1v16h-1z"></path>
        <path fill="#66757F" d="M35 21a.997.997 0 01-.707-.293L22 8.414 9.707 20.707a1 1 0 11-1.414-1.414l13-13a.999.999 0 011.414 0l13 13A.999.999 0 0135 21z"></path>
        <path fill="#66757F" d="M22 21a.999.999 0 01-.707-1.707l6.5-6.5a1 1 0 111.414 1.414l-6.5 6.5A.997.997 0 0122 21z"></path>
        <path fill="#C1694F" d="M14 30h4v6h-4z"></path>
        <path fill="#55ACEE" d="M14 21h4v4h-4zm12.5 0h4v4h-4zm0 9h4v4h-4z"></path>
        <path fill="#5C913B" d="M37.5 37.5A1.5 1.5 0 0136 39H8a1.5 1.5 0 010-3h28a1.5 1.5 0 011.5 1.5z"></path>
    </g>
</svg>

        Home
      </a>
    </li>
    <li>
        <a href="/enter" class="crayons-link crayons-link--block fw-bold">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24" aria-hidden="true" class="crayons-icon crayons-icon--default">
    <g class="nc-icon-wrapper">
        <path fill="#EF9645" d="M21 22s-6.031 5.274-7.74 6.832c-1.323 1.203.88 3.498 2.135 2.452 3.333-2.785 6.493-4.85 6.493-4.85l.367.526c-1.309.79-4.693 2.858-6.449 4.438-1.324 1.19.767 3.553 2.093 2.365 1.822-1.634 5.995-4.565 5.995-4.565l.368.384c-1.08.679-2.772 1.94-4.985 3.958-1.332 1.215.619 2.485 1.764 1.534 3.116-2.586 3.232-4.383 6.661-5.85C32.935 26.986 21 22 21 22z"></path>
        <path fill="#FFCC4D" d="M33.979 12.836c.881-.438 1.653.144 2.106 1.053.448.911 2.532 5.015 2.953 5.869.425.852.191 2.103-.719 2.553-.911.453-2.234 1.054-3.092 2.512-.465.794-2.396 2.887-7.629 5.129-3.427 1.462-6.165 3.938-7.261 4.8-.886.698-2.673-.637-1.343-1.85 2.214-2.02 3.906-3.281 4.985-3.958l-.368-.386s-4.381 3.056-6.238 4.65c-1.261 1.085-2.938-.953-1.613-2.142 1.757-1.58 4.902-3.954 6.211-4.744l-.366-.529s-3.43 2.231-6.765 5.02c-1.113.93-2.847-1.159-1.525-2.364 1.71-1.555 5.043-4.343 7.093-5.499l-.196-.609s-3.218 1.805-5.996 4.494c-.994.961-2.974-.818-1.525-2.293 3.462-3.522 7.958-5.609 9.154-6.413 1.606-1.08 2.451-1.754 1.606-2.133-1.274-.573-3.396-2.582-4.21-4.21-1.053-2.106.44-3.77 2.105-2.106 1.053 1.053 3.159 3.158 5.263 3.158 2.829 0 3.262 1.053 5.264 1.053 1.054-.002 2.106-1.055 2.106-1.055"></path>
        <path fill="#EF9645" d="M29.048 19.167c-.334.001-1.439-.15-2.684-.725-1.073-.494-1.905-1.39-2.597-2.142.039.161-.065.354-.283.58.681.792 1.723 1.696 2.654 2.146 1.082.525 2.315.79 2.871.767.572-.024.385-.622.039-.626zm2.167 8.58c-2.264-1.054-4.062-1.934-.974-.66 1.277.525 3.194-2.06 1.315-2.917C27.774 22.444 16 16 16 16s-6.368 7.437-5.58 7.914c.789.474 1.118 3.849 5.665 6.818 4.298 2.808 6.975 4.015 7.981 4.518 2.107 1.053 3.477-1.678 1.833-2.412-2.833-1.266-2.734-1.343 1.418.382 1.537.64 2.829-2.25 1.205-2.981-2.422-1.089-2.64-1.221 1.239.527 1.435.643 3.073-2.264 1.454-3.019z"></path>
        <path fill="#FFDC5D" d="M11.09 13.278a1.808 1.808 0 00-2.485.615c-.525.871-2.828 4.683-3.319 5.5-.492.816-.364 2.079.506 2.604.87.526 2.447 1.477 3.236 1.952.789.477 4.011 4.477 8.662 7.279 4.648 2.808 6.366 3.286 7.412 3.697 1.05.41 2.437-1.683.793-2.416-2.837-1.268-4.836-2.438-5.859-3.205l.318-.585s2.837 2.12 6.987 3.848c1.537.64 2.79-1.754 1.167-2.487-2.423-1.089-5.412-2.894-6.651-3.79l.346-.571s3.946 2.494 7.825 4.242c1.431.645 2.632-1.786 1.013-2.542-2.26-1.054-5.448-2.955-7.394-4.277l.338-.5s3.615 2.551 6.705 3.823c1.277.528 2.78-1.861.899-2.721C27.81 22.019 23.525 19 22.401 18.1c-.918-.737-1.181-2.413 1.052-3.158 3.158-1.053 4.211-3.158 4.211-4.211 0-1.489-1.376-2.146-2.104-1.053-2.107 3.158-3.166 2.082-5.263 3.158-2.514 1.291-5.466 2.662-7.179 1.628-.733-.441-2.028-1.186-2.028-1.186"></path>
        <path fill="#FFCC4D" d="M22.948 15.721l5.426-2.712a8.282 8.282 0 00-1.763-.172c-2.104 0-4.21-2.105-5.263-3.158-1.665-1.664-3.158 0-2.105 2.106.715 1.428 2.433 3.148 3.705 3.936z"></path>
    </g>
</svg>

          Sign In/Up
        </a>
    </li>
      
        <li>
    <a href="/listings" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFD983" d="M36 4H14a4 4 0 00-4 4v24H8a4 4 0 000 8h24a4 4 0 004-4V12a4 4 0 000-8z"/>
        <path fill="#E39F3D" d="M12 14h24v-2H14l-2-1z"/>
        <path fill="#FFE8B6" d="M14 4a4 4 0 00-4 4v24.555A3.955 3.955 0 008 32a4 4 0 104 4V11.445c.59.344 1.268.555 2 .555a4 4 0 000-8z"/>
        <path fill="#C1694F" d="M16 8a2 2 0 11-4.001-.001A2 2 0 0116 8m-6 28a2 2 0 11-4.001-.001A2 2 0 0110 36m24-17a1 1 0 01-1 1H15a1 1 0 010-2h18a1 1 0 011 1m0 4a1 1 0 01-1 1H15a1 1 0 110-2h18a1 1 0 011 1m0 4a1 1 0 01-1 1H15a1 1 0 110-2h18a1 1 0 011 1m0 4a1 1 0 01-1 1H15a1 1 0 110-2h18a1 1 0 011 1"/>
    </g>
</svg>

      </span>
      Listings
    </a>
  </li>

        <li>
    <a href="/pod" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#292F33" d="M10 19h24v2H10zm15 15c0 2.208-.792 4-3 4-2.209 0-3-1.792-3-4s.791-2 3-2c2.208 0 3-.208 3 2z"/>
        <path fill="#66757F" d="M22 35c-6.627 0-10 1.343-10 3v2h20v-2c0-1.657-3.373-3-10-3z"/>
        <path fill="#99AAB5" d="M22 4a9 9 0 00-9 9v7h18v-7a9 9 0 00-9-9z"/>
        <g fill="#292F33" transform="translate(4 4)">
            <circle cx="15.5" cy="2.5" r="1.5"/>
            <circle cx="20.5" cy="2.5" r="1.5"/>
            <circle cx="17.5" cy="6.5" r="1.5"/>
            <circle cx="22.5" cy="6.5" r="1.5"/>
            <circle cx="12.5" cy="6.5" r="1.5"/>
            <circle cx="15.5" cy="10.5" r="1.5"/>
            <circle cx="10.5" cy="10.5" r="1.5"/>
            <circle cx="20.5" cy="10.5" r="1.5"/>
            <circle cx="25.5" cy="10.5" r="1.5"/>
            <circle cx="17.5" cy="14.5" r="1.5"/>
            <circle cx="22.5" cy="14.5" r="1.5"/>
            <circle cx="12.5" cy="14.5" r="1.5"/>
        </g>
        <path fill="#66757F" d="M13 19.062V21c0 4.971 4.029 9 9 9s9-4.029 9-9v-1.938H13z"/>
        <path fill="#66757F" d="M34 18a1 1 0 00-1 1v2c0 6.074-4.925 11-11 11s-11-4.926-11-11v-2a1 1 0 00-2 0v2c0 7.18 5.82 13 13 13s13-5.82 13-13v-2a1 1 0 00-1-1z"/>
    </g>
</svg>

      </span>
      Podcasts
    </a>
  </li>

        <li>
    <a href="/videos" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g transform="translate(4 4)">
        <path fill="#31373D" d="M34.074 18l-4.832 3H28v-4c0-.088-.02-.169-.026-.256C31.436 15.864 34 12.735 34 9a8 8 0 00-16.001 0c0 1.463.412 2.822 1.099 4H14.92c.047-.328.08-.66.08-1a7 7 0 10-14 0 6.995 6.995 0 004 6.317V29a4 4 0 004 4h15a4 4 0 004-4v-3h1.242l4.832 3H35V18h-.926zM28.727 3.977a5.713 5.713 0 012.984 4.961L28.18 8.35a2.276 2.276 0 00-.583-.982l1.13-3.391zm-.9 6.342l3.552.592a5.713 5.713 0 01-4.214 3.669 3.985 3.985 0 00-1.392-1.148l.625-2.19a2.425 2.425 0 001.429-.923zM26 3.285c.282 0 .557.027.828.067l-1.131 3.392c-.404.054-.772.21-1.081.446L21.42 5.592A5.703 5.703 0 0126 3.285zM20.285 9c0-.563.085-1.106.236-1.62l3.194 1.597-.002.023c0 .657.313 1.245.771 1.662L23.816 13h-1.871a5.665 5.665 0 01-1.66-4zm-9.088-.385A4.64 4.64 0 0112.667 12c0 .344-.043.677-.113 1H10.1c.145-.304.233-.641.233-1a2.32 2.32 0 00-.392-1.292l1.256-2.093zM8 7.333c.519 0 1.01.105 1.476.261L8.22 9.688c-.073-.007-.145-.022-.22-.022a2.32 2.32 0 00-1.292.392L4.615 8.803A4.64 4.64 0 018 7.333zM3.333 12c0-.519.105-1.01.261-1.477l2.095 1.257c-.007.073-.022.144-.022.22 0 .75.36 1.41.91 1.837a3.987 3.987 0 00-1.353 1.895C4.083 14.881 3.333 13.533 3.333 12z"/>
        <circle fill="#8899A6" cx="24" cy="19" r="2"/>
        <circle fill="#8899A6" cx="9" cy="19" r="2"/>
        <path fill="#8899A6" d="M24 27a2 2 0 00-2-2H11a2 2 0 00-2 2v6a2 2 0 002 2h11a2 2 0 002-2v-6z"/>
    </g>
</svg>

      </span>
      Videos
    </a>
  </li>

        <li>
    <a href="/tags" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFD983" d="M36.017 24.181L21.345 9.746C20.687 9.087 19.823 9 18.96 9H8.883C7.029 9 6 10.029 6 11.883v10.082c0 .861.089 1.723.746 2.38L21.3 39.017a3.287 3.287 0 004.688 0l10.059-10.088c1.31-1.312 1.28-3.438-.03-4.748zm-23.596-8.76a1.497 1.497 0 11-2.118-2.117 1.497 1.497 0 012.118 2.117z"/>
        <path fill="#D99E82" d="M13.952 11.772a3.66 3.66 0 00-5.179 0 3.663 3.663 0 105.18 5.18 3.664 3.664 0 00-.001-5.18zm-1.53 3.65a1.499 1.499 0 11-2.119-2.12 1.499 1.499 0 012.119 2.12z"/>
        <path fill="#C1694F" d="M12.507 14.501a1 1 0 11-1.415-1.414l8.485-8.485a1 1 0 111.415 1.414l-8.485 8.485z"/>
    </g>
</svg>

      </span>
      Tags
    </a>
  </li>

        <li>
    <a href="/faq" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFD983" d="M33 15.06c0 6.439-5 7.439-5 13.44 0 3.098-3.123 3.359-5.5 3.359-2.053 0-6.586-.779-6.586-3.361C15.914 22.5 11 21.5 11 15.06c0-6.031 5.285-10.92 11.083-10.92C27.883 4.14 33 9.029 33 15.06z"/>
        <path fill="#CCD6DD" d="M26.167 36.5c0 .828-2.234 2.5-4.167 2.5-1.933 0-4.167-1.672-4.167-2.5 0-.828 2.233-.5 4.167-.5 1.933 0 4.167-.328 4.167.5z"/>
        <path fill="#FFCC4D" d="M26.707 14.293a.999.999 0 00-1.414 0L22 17.586l-3.293-3.293a1 1 0 10-1.414 1.414L21 19.414V30a1 1 0 102 0V19.414l3.707-3.707a.999.999 0 000-1.414z"/>
        <path fill="#99AAB5" d="M28 35a2 2 0 01-2 2h-8a2 2 0 01-2-2v-6h12v6z"/>
        <path fill="#CCD6DD" d="M15.999 36a1 1 0 01-.163-1.986l12-2a.994.994 0 011.15.822.999.999 0 01-.822 1.15l-12 2a.927.927 0 01-.165.014zm0-4a1 1 0 01-.163-1.986l12-2a.995.995 0 011.15.822.999.999 0 01-.822 1.15l-12 2a.927.927 0 01-.165.014z"/>
    </g>
</svg>

      </span>
      FAQ
    </a>
  </li>

        <li>
    <a href="https://shop.dev.to/" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#F4900C" d="M15 4a8 8 0 00-8 8v8h2v-8a6 6 0 0112 0v8h2v-8a8 8 0 00-8-8z"/>
        <path fill="#DD2E44" d="M5 12l2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2v23H5z"/>
        <path fill="#FFCC4D" d="M29 9a8 8 0 00-8 8v8h2v-8a6 6 0 0112 0v8h2v-8a8 8 0 00-8-8z"/>
        <path fill="#744EAA" d="M19 17l2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2v23H19z"/>
    </g>
</svg>

      </span>
      DEV Shop
    </a>
  </li>

        <li>
    <a href="/sponsorships" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <path fill="#DD2E44" d="M39.885 15.833c0-5.45-4.418-9.868-9.867-9.868-3.308 0-6.227 1.633-8.018 4.129-1.791-2.496-4.71-4.129-8.017-4.129-5.45 0-9.868 4.417-9.868 9.868 0 .772.098 1.52.266 2.241C5.751 26.587 15.216 35.568 22 38.034c6.783-2.466 16.249-11.447 17.617-19.959.17-.721.268-1.469.268-2.242z"/>
</svg>

      </span>
      Sponsors
    </a>
  </li>

        <li>
    <a href="/about" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg viewBox="0 0 235 234" xmlns="http://www.w3.org/2000/svg" class="rainbow-logo" preserveAspectRatio="xMinYMin meet">
    <g fill="none" fill-rule="evenodd">
        <path fill="#88AEDC" d="M234.04 175.67l-75.69 58.28h47.18L234.04 212z"/>
        <path d="M234.04 140.06l-121.93 93.89h.02l121.91-93.87zM133.25.95L.04 103.51v.02L133.27.95z"/>
        <path fill="#F58F8E" fill-rule="nonzero" d="M.04.95v30.16L39.21.95z"/>
        <path fill="#FEE18A" fill-rule="nonzero" d="M39.21.95L.04 31.11v35.9L85.84.95z"/>
        <path fill="#F3F095" fill-rule="nonzero" d="M85.84.95L.04 67.01v36.5L133.25.95z"/>
        <path fill="#55C1AE" fill-rule="nonzero" d="M133.27.95L.04 103.53v35.59L179.49.95z"/>
        <path fill="#F7B3CE" fill-rule="nonzero" d="M234.04.95h-7.37L.04 175.45v35.93l234-180.18z"/>
        <path fill="#88AEDC" fill-rule="nonzero" d="M179.49.95L.04 139.12v36.33L226.67.95z"/>
        <path fill="#F58F8E" fill-rule="nonzero" d="M234.04 31.2L.04 211.38v22.57h18.03l215.97-166.3z"/>
        <path fill="#FEE18A" fill-rule="nonzero" d="M234.04 67.65L18.07 233.95H64.7l169.34-130.39z"/>
        <path fill="#F3F095" fill-rule="nonzero" d="M234.04 103.56L64.7 233.95h47.41l121.93-93.89z"/>
        <path fill="#55C1AE" fill-rule="nonzero" d="M234.04 140.08l-121.91 93.87h46.22l75.69-58.28z"/>
        <path fill="#F7B3CE" fill-rule="nonzero" d="M234.04 212l-28.51 21.95h28.51z"/>
        <path d="M65.237 77.75c4.514.95 7.774 2.8 11.135 6.3 3.059 3.2 4.965 6.85 5.767 10.95.652 3.45.652 40.55 0 44.05-1.705 9.1-9.479 16.2-19.109 17.45-2.006.25-8.727.5-14.845.5H37V77h12.438c8.828 0 13.342.2 15.8.75zM51.545 117v25.6l5.166-.2c4.464-.15 5.417-.35 7.423-1.5 3.912-2.3 3.962-2.45 3.962-24.2 0-21.2 0-21.2-3.661-23.6-1.806-1.2-2.558-1.35-7.473-1.55l-5.417-.15V117zm79.245-32.75v7.25h-25.58v18h15.549V124H105.21l.1 9.1.15 9.15 12.69.15 12.638.1V157h-14.795c-16.451 0-19.009-.3-21.617-2.6-3.661-3.2-3.46-1.15-3.611-36.3-.1-21.9.05-32.25.401-33.65.702-2.6 3.661-5.8 6.27-6.7 1.554-.55 5.466-.7 17.704-.75h15.648v7.25zm31.647 20.85c3.712 14.25 6.821 25.6 6.922 25.25.15-.35 3.31-12.4 7.071-26.85l6.872-26.25 7.824-.15c5.918-.1 7.874.05 7.874.5s-17.354 66.2-18.357 69.5c-.702 2.3-4.463 7-6.57 8.25-2.658 1.5-6.57 1.75-8.978.5-2.156-1.1-5.015-4.4-6.47-7.5-.902-1.9-15.648-56-19.058-70l-.352-1.35h7.825c7.673 0 7.874 0 8.275 1.1.2.65 3.41 12.8 7.122 27z" fill="#FFF"/>
    </g>
</svg>

      </span>
      About
    </a>
  </li>

        <li>
    <a href="/contact" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFAC33" d="M38.724 33.656c-1.239-.01-1.241 1.205-1.241 1.205H22.5c-5.246 0-9.5-4.254-9.5-9.5s4.254-9.5 9.5-9.5 9.5 4.254 9.5 9.5c0 3.062-1.6 5.897-3.852 7.633h5.434C35.022 30.849 36 28.139 36 25.361c0-7.456-6.045-13.5-13.5-13.5-7.456 0-13.5 6.044-13.5 13.5 0 7.455 6.044 13.5 13.5 13.5h14.982s-.003 1.127 1.241 1.139c1.238.012 1.228-1.245 1.228-1.245l.014-3.821s.001-1.267-1.241-1.278zM9 18.26a16.047 16.047 0 014-4.739V13c0-5 5-7 5-8s-1-1-1-1H5C4 4 4 5 4 5c0 1 5 3.333 5 7.69v5.57z"/>
        <path fill="#BE1931" d="M17.091 33.166a9.487 9.487 0 01-4.045-8.72l-3.977-.461c-.046.452-.069.911-.069 1.376 0 4.573 2.28 8.608 5.76 11.051l2.331-3.246z"/>
        <path fill="#BE1931" d="M10 29.924s-5.188-.812-5 1 5-1 5-1zm0 .312s-4.125 2.688-2.938 3.75S10 30.236 10 30.236z"/>
    </g>
</svg>

      </span>
      Contact
    </a>
  </li>

  </ul>
</nav>

  <nav class="mb-6 " aria-labelledby="other-nav-heading">
    <h2 id="other-nav-heading" class="mt-6 mb-2 fs-base">
      Other
    </h2>
    <ul class="other-navigation-links sidebar-navigation-links spec-sidebar-navigation-links">
          <li>
    <a href="/code-of-conduct" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g class="nc-icon-wrapper">
        <path fill="#FFDB5E" d="M38.956 21.916c0-.503-.12-.975-.321-1.404-1.341-4.326-7.619-4.01-16.549-4.221-1.493-.035-.639-1.798-.115-5.668.341-2.517-1.282-6.382-4.01-6.382-4.498 0-.171 3.548-4.148 12.322-2.125 4.688-6.875 2.062-6.875 6.771v10.719c0 1.833.18 3.595 2.758 3.885 2.499.281 1.937 2.062 5.542 2.062h18.044a3.337 3.337 0 003.333-3.334c0-.762-.267-1.456-.698-2.018 1.02-.571 1.72-1.649 1.72-2.899 0-.76-.266-1.454-.696-2.015 1.023-.57 1.725-1.649 1.725-2.901 0-.909-.368-1.733-.961-2.336a3.311 3.311 0 001.251-2.581z"/>
        <path fill="#EE9547" d="M27.02 25.249h8.604c1.17 0 2.268-.626 2.866-1.633a.876.876 0 00-1.506-.892 1.588 1.588 0 01-1.361.775h-8.81c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583H32.7a.875.875 0 000-1.75h-5.888a3.337 3.337 0 00-3.333 3.333c0 1.025.475 1.932 1.205 2.544a3.32 3.32 0 00-.998 2.373c0 1.028.478 1.938 1.212 2.549a3.318 3.318 0 00.419 5.08 3.305 3.305 0 00-.852 2.204 3.337 3.337 0 003.333 3.333h5.484a3.35 3.35 0 002.867-1.632.875.875 0 00-1.504-.894 1.594 1.594 0 01-1.363.776h-5.484c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583h6.506a3.35 3.35 0 002.867-1.633.875.875 0 10-1.504-.894 1.572 1.572 0 01-1.363.777h-7.063a1.585 1.585 0 010-3.167h8.091a3.35 3.35 0 002.867-1.632.875.875 0 00-1.504-.894 1.573 1.573 0 01-1.363.776H27.02a1.585 1.585 0 010-3.167z"/>
    </g>
</svg>

      </span>
      Code of Conduct
    </a>
  </li>

          <li>
    <a href="/privacy" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g transform="translate(4 4)">
        <circle fill="#FFCC4D" cx="18" cy="18" r="18"/>
        <path fill="#664500" d="M27.335 23.629a.501.501 0 00-.635-.029c-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9a.5.5 0 10-.729.657C8.7 24.472 11.788 29.5 18 29.5s9.301-5.028 9.429-5.243a.499.499 0 00-.094-.628z"/>
        <path fill="#65471B" d="M18 26.591c-.148 0-.291-.011-.438-.016v4.516h.875v-4.517c-.145.005-.289.017-.437.017z"/>
        <path fill="#FFF" d="M22 26c.016-.004-1.45.378-2.446.486-.366.042-.737.076-1.117.089v4.517H20c1.1 0 2-.9 2-2V26zm-8 0c-.016-.004 1.45.378 2.446.486.366.042.737.076 1.117.089v4.517H16c-1.1 0-2-.9-2-2V26z"/>
        <path fill="#65471B" d="M27.335 23.629a.501.501 0 00-.635-.029c-.03.022-2.259 1.668-5.411 2.47-.443.113-1.864.43-3.286.431-1.424 0-2.849-.318-3.292-.431-3.152-.802-5.381-2.448-5.411-2.47a.501.501 0 00-.729.657c.097.162 1.885 3.067 5.429 4.481v-1.829c-.016-.004 1.45.378 2.446.486.366.042.737.076 1.117.089.146.005.289.016.437.016.148 0 .291-.011.438-.016.38-.013.751-.046 1.117-.089.996-.108 2.462-.49 2.446-.486v1.829c3.544-1.414 5.332-4.319 5.429-4.481a.5.5 0 00-.095-.628zm-.711-9.605c0 1.714-.938 3.104-2.096 3.104-1.157 0-2.096-1.39-2.096-3.104s.938-3.104 2.096-3.104c1.158 0 2.096 1.39 2.096 3.104zm-17.167 0c0 1.714.938 3.104 2.096 3.104 1.157 0 2.096-1.39 2.096-3.104s-.938-3.104-2.096-3.104c-1.158 0-2.096 1.39-2.096 3.104z"/>
        <path fill="#292F33" d="M34.808 9.627c-.171-.166-1.267.274-2.376-.291-2.288-1.166-8.07-2.291-11.834.376-.403.285-2.087.333-2.558.313-.471.021-2.155-.027-2.558-.313-3.763-2.667-9.545-1.542-11.833-.376-1.109.565-2.205.125-2.376.291-.247.239-.247 1.196.001 1.436.246.239 1.477.515 1.722 1.232.247.718.249 4.958 2.213 6.424 1.839 1.372 6.129 1.785 8.848.238 2.372-1.349 2.289-4.189 2.724-5.881.155-.603.592-.907 1.26-.907s1.105.304 1.26.907c.435 1.691.351 4.532 2.724 5.881 2.719 1.546 7.009 1.133 8.847-.238 1.965-1.465 1.967-5.706 2.213-6.424.245-.717 1.476-.994 1.722-1.232.248-.24.249-1.197.001-1.436zm-20.194 3.65c-.077 1.105-.274 3.227-1.597 3.98-.811.462-1.868.743-2.974.743h-.001c-1.225 0-2.923-.347-3.587-.842-.83-.619-1.146-3.167-1.265-4.12-.076-.607-.28-2.09.388-2.318 1.06-.361 2.539-.643 4.052-.643.693 0 3.021.043 4.155.741 1.005.617.872 1.851.829 2.459zm16.278-.253c-.119.954-.435 3.515-1.265 4.134-.664.495-2.362.842-3.587.842h-.001c-1.107 0-2.163-.281-2.975-.743-1.323-.752-1.52-2.861-1.597-3.966-.042-.608-.176-1.851.829-2.468 1.135-.698 3.462-.746 4.155-.746 1.513 0 2.991.277 4.052.638.668.228.465 1.702.389 2.309z"/>
    </g>
</svg>

      </span>
      Privacy Policy
    </a>
  </li>

          <li>
    <a href="/terms" class="sidebar-navigation-link crayons-link crayons-link--block">
      <span class="crayons-icon crayons-icon--default">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="24" height="24">
    <g transform="translate(4 4)">
        <ellipse fill="#F5F8FA" cx="8.828" cy="18" rx="7.953" ry="13.281"/>
        <path fill="#E1E8ED" d="M8.828 32.031C3.948 32.031.125 25.868.125 18S3.948 3.969 8.828 3.969 17.531 10.132 17.531 18s-3.823 14.031-8.703 14.031zm0-26.562C4.856 5.469 1.625 11.09 1.625 18s3.231 12.531 7.203 12.531S16.031 24.91 16.031 18 12.8 5.469 8.828 5.469z"/>
        <circle fill="#8899A6" cx="6.594" cy="18" r="4.96"/>
        <circle fill="#292F33" cx="6.594" cy="18" r="3.565"/>
        <circle fill="#F5F8FA" cx="7.911" cy="15.443" r="1.426"/>
        <ellipse fill="#F5F8FA" cx="27.234" cy="18" rx="7.953" ry="13.281"/>
        <path fill="#E1E8ED" d="M27.234 32.031c-4.88 0-8.703-6.163-8.703-14.031s3.823-14.031 8.703-14.031S35.938 10.132 35.938 18s-3.824 14.031-8.704 14.031zm0-26.562c-3.972 0-7.203 5.622-7.203 12.531 0 6.91 3.231 12.531 7.203 12.531S34.438 24.91 34.438 18 31.206 5.469 27.234 5.469z"/>
        <circle fill="#8899A6" cx="25" cy="18" r="4.96"/>
        <circle fill="#292F33" cx="25" cy="18" r="3.565"/>
        <circle fill="#F5F8FA" cx="26.317" cy="15.443" r="1.426"/>
    </g>
</svg>

      </span>
      Terms of use
    </a>
  </li>

    </ul>
  </nav>

<div class="flex justify-start mb-6">
    <a
    href="https://twitter.com/thepracticaldev"
    target="_blank"
    class="crayons-link crayons-link--secondary mx-2"
    rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="a2jjntzt6qa68kkcs3hryrwo4ziwdea7" class="crayons-icon"><title id="a2jjntzt6qa68kkcs3hryrwo4ziwdea7">Twitter</title>
    <path d="M22.162 5.656a8.383 8.383 0 01-2.402.658A4.196 4.196 0 0021.6 4c-.82.488-1.719.83-2.656 1.015a4.182 4.182 0 00-7.126 3.814 11.874 11.874 0 01-8.62-4.37 4.168 4.168 0 00-.566 2.103c0 1.45.738 2.731 1.86 3.481a4.168 4.168 0 01-1.894-.523v.052a4.185 4.185 0 003.355 4.101 4.211 4.211 0 01-1.89.072A4.185 4.185 0 007.97 16.65a8.395 8.395 0 01-6.191 1.732 11.83 11.83 0 006.41 1.88c7.693 0 11.9-6.373 11.9-11.9 0-.18-.005-.362-.013-.54a8.495 8.495 0 002.087-2.165l-.001-.001z" fill="#65bbf2"></path>
</svg>

  </a>
  <a
    href="https://facebook.com/thepracticaldev"
    target="_blank"
    class="crayons-link crayons-link--secondary mx-2"
    rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="ahudkgj48wo3rwwh4dolp8l1nyo6zcac" class="crayons-icon"><title id="ahudkgj48wo3rwwh4dolp8l1nyo6zcac">Facebook</title>
    <path d="M15.402 21v-6.966h2.333l.349-2.708h-2.682V9.598c0-.784.218-1.319 1.342-1.319h1.434V5.857a19.188 19.188 0 00-2.09-.107c-2.067 0-3.482 1.262-3.482 3.58v1.996h-2.338v2.708h2.338V21H4a1 1 0 01-1-1V4a1 1 0 011-1h16a1 1 0 011 1v16a1 1 0 01-1 1h-4.598z"></path>
</svg>

  </a>
  <a
    href="https://github.com/thepracticaldev"
    target="_blank"
    class="crayons-link crayons-link--secondary mx-2"
    rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="aevt2y86jv2rvbqmetvo2ydgyow6rglw" class="crayons-icon"><title id="aevt2y86jv2rvbqmetvo2ydgyow6rglw">Github</title>
    <path d="M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 006.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 012.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0022 12c0-5.525-4.475-10-10-10z"></path>
</svg>

  </a>
  <a
    href="https://instagram.com/thepracticaldev"
    target="_blank"
    class="crayons-link crayons-link--secondary mx-2"
    rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="a7fpckckjz7v7xoy23io7nxz0959ox1l" class="crayons-icon"><title id="a7fpckckjz7v7xoy23io7nxz0959ox1l">Instagram</title>
    <path d="M12 2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153.509.5.902 1.105 1.153 1.772.247.637.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.218 1.79-.465 2.428a4.883 4.883 0 01-1.153 1.772c-.5.508-1.105.902-1.772 1.153-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.218-2.428-.465a4.89 4.89 0 01-1.772-1.153 4.904 4.904 0 01-1.153-1.772c-.248-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428a4.88 4.88 0 011.153-1.772A4.897 4.897 0 015.45 2.525c.638-.248 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2zm0 5a5 5 0 100 10 5 5 0 000-10zm6.5-.25a1.25 1.25 0 10-2.5 0 1.25 1.25 0 002.5 0zM12 9a3 3 0 110 6 3 3 0 010-6z"></path>
</svg>

  </a>
  <a
    href="https://twitch.com/thepracticaldev"
    target="_blank"
    class="crayons-link crayons-link--secondary mx-2"
    rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" aria-labelledby="acx6uzcktnbz8boxs3jdqi25b2j0be6g" class="crayons-icon"><title id="acx6uzcktnbz8boxs3jdqi25b2j0be6g">Twitch</title>
    <path d="M4.3 3H21v11.7l-4.7 4.7h-3.9l-2.5 2.4H7v-2.4H3V6.2L4.3 3zM5 17.4h4v2.4h.095l2.5-2.4h3.877L19 13.872V5H5v12.4zM15 8h2v4.7h-2V8zm0 0h2v4.7h-2V8zm-5 0h2v4.7h-2V8z"></path>
</svg>

  </a>

</div>

    </div>
  </div>
  <div class="hamburger__overlay js-hamburger-trigger"></div>
</div>


        <div id="active-broadcast" class="broadcast-wrapper"></div>
        <div id="message-notice"></div>
  <div id="base-payment-pointer" data-payment-pointer="$ilp.uphold.com/24HhrUGG7ekn"></div>
<div id="page-content" class="wrapper stories stories-show" data-current-page="stories-show">
  <div id="page-content-inner">
    <div id="page-route-change" class="screen-reader-only" aria-live="polite" aria-atomic="true"></div>
    


<style>
  .html-variant-wrapper { display: none}
</style>

<script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.2.10/webcomponents-loader.js"
        integrity="sha384-3HK5hxQbkFqOIxMbpROlRmRtYl2LBZ52t+tqcjzsmr9NJuOWQxl8RgQSyFvq2lhy"
        crossorigin="anonymous" defer></script>

  <script src="https://dev.to/packs/js/runtime~clipboardCopy-f6ce5ddc621e42e1785a.js" defer="defer"></script>
<script src="https://dev.to/packs/js/clipboardCopy-ef322a65a745644fd9c8.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/runtime~webShare-9c58f8bfc3f8c45796b2.js" defer="defer"></script>
<script src="https://dev.to/packs/js/webShare-d45688ffd4d43f9f6670.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/runtime~articlePage-9d2dcb590d4a1166f6a4.js" defer="defer"></script>
<script src="https://dev.to/packs/js/0-deb4a3d66346407460bf.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/1-5121e9f8782f6f5c2123.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/articlePage-5db09f3d6eda5dc6f958.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/runtime~commentDropdowns-fa7f05c587a9f090f8e6.js" defer="defer"></script>
<script src="https://dev.to/packs/js/2-feac54b0d5293fd89992.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/commentDropdowns-f7b3b8413292ed35c665.chunk.js" defer="defer"></script>

<div class="crayons-layout crayons-layout--3-cols crayons-layout--article">
  <aside class="crayons-layout__sidebar-left" aria-label="Article actions">
    <div class="crayons-article-actions print-hidden">
  <div class="crayons-article-actions__inner">

      
    <div class="align-center m:relative">
      <div id="article-show-more-dropdown" class="crayons-dropdown side-bar left-2 right-2 m:right-auto m:left-100 s:left-auto bottom-100 m:bottom-auto m:top-0 mb-1 m:mb-0">
        <div>
          <div id="article-copy-link-announcer" aria-live="polite" class="crayons-notice crayons-notice--success my-2 p-1" aria-live="polite" hidden>Copied to Clipboard</div>
        </div>

        <template id="web-share-button">
          <a href="#" class="dropdown-link-row crayons-link crayons-link--block">Share Post via...</a>
        </template>

        <a href="/report-abuse" class="crayons-link crayons-link--block">Report Abuse</a>
      </div>
    </div>
  </div>
</div>

      <div class="html-variant-wrapper" id="html-variant-article-show-below-article" data-variant-id="382">
        <div></div>
      </div>

  </aside>

  <main id="main-content" class="crayons-layout__content grid gap-4">
    <div class="article-wrapper">


      <article class="crayons-card crayons-article mb-4"
        id="article-show-container"
        data-article-id="731828"
        data-author-id="381721"
        data-co-author-ids=""
        data-published="true"
        data-pin-path="/stories/feed/pinned_article"
        data-pinned-article-id=""
         >
        <header class="crayons-article__header" id="main-title">
            <div class="crayons-article__cover">
              <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--POGHHP2A--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/m2slgwp6pylih1imqqik.png" width="1000" height="420" style="background-color:#dddddd;" class="crayons-article__cover__image" alt="Cover image for Build an Email Application using Node JS Express JS with Gmail and Nodemailer - (All in one Article)">
            </div>

          <div class="crayons-article__header__meta">
            <div class="flex s:items-start flex-col s:flex-row">
              <div id="action-space" class="crayons-article__actions mb-4 s:mb-0 s:order-last"></div>
              <div class="flex flex-1 mb-5 items-start">
                <div class="pl-3 flex-1">
                  <a href="/" class="crayons-link fw-bold">Kenneth Toscano</a>
                </div>
              </div>
            </div>

            <h1 class="fs-3xl m:fs-4xl l:fs-5xl fw-bold s:fw-heavy lh-tight mb-2 longer">
              Build an Email Application using Node JS Express JS with Gmail and Nodemailer - (All in one Article)
            </h1>

              <div class="spec__tags flex flex-wrap">
              </div>
          </div>
        </header>

        <div class="crayons-article__main">

          <div class="crayons-article__body text-styles spec__body" data-article-id="731828" id="article-body">
            <p>Hello 😊, my gorgeous friend on the internet 👋, how are you doing today?.</p>

<p>Sometimes we want to send out a welcome email to our new registered users or send them a link to reset their forgotten password.</p>

<blockquote>
<p>This is an extracted feature from my HarperDB Hackerthon open source project, I found it difficult to implement, because of resources, so I am saving you from the stress I passed through.</p>
</blockquote>

<p>Below you will learn how to send out emails directly from your Node JS Application using your registered Gmail account and Nodemailer, with an interface built with HTML and CSS that is powered by Express JS.</p>

<p>Don't worry about the complexity of what is listed above, I am going to explain all of them in this article (in a bit).</p>

<p>Note: Some of the block code on dev.to doesn't work well, you can check the canonical url, if you didn't get to copy the code from this article.</p>

<h2>
  <a name="prerequisites" href="#prerequisites">
  </a>
  PREREQUISITES
</h2>

<p>Before following along in this tutorial, I assume you already have a basic understanding of JavaScript  and that you already have the following setup:</p>

<ol>
<li><p>Gmail account</p></li>
<li><p>Node installed on your PC</p></li>
</ol>

<p>If you do not have a Gmail account setup, click <a href="http://gmail.com">Here</a> to register your account and you can also download the Node application by clicking <a href="https://nodejs.org/en/">Here</a>.</p>

<blockquote>
<p>Before we proceed, kindly note that this is a very long article, because I ensure to explain every concept that is been used in building the application, and this will help you grasp useful concepts in Node JS. </p>
</blockquote>

<p>At the end of this article, you will learn the following concepts and technologies:</p>

<ol>
<li>How to kick-start a Node JS application</li>
<li>Writing your first route (beginners)</li>
<li>Rendering HTML with Node JS <code>package.json</code> and explanation of what is inside</li>
<li>Implementation of Nodemailer</li>
<li>How to add Multer to your Node JS project</li>
<li>How to retrieve form data from the HTML form to our Node js Server</li>
</ol>


<hr>
<h3>
  <a name="what-is-node-js" href="#what-is-node-js">
  </a>
  What is Node JS?
</h3>

<p>Node JS is a JavaScript framework that allows us to use JavaScript outside of the browser and on the server-side.</p>

<blockquote>
<p>The Server-side is the system that runs on the server (Node JS runs here), and the client-side is the software that runs on a user's web browser (Vanilla JavaScript or React JS runs here).</p>
</blockquote>

<p>To learn more about Node JS check out the official documentation  <a href="https://nodejs.org/en/docs/">Here</a> </p>

<p>Let us verify that Node JS is successfully installed on your system, run the command below on your terminal.<br>
</p>

<pre class="highlight plaintext"><code>node --version

</code></pre>



<p>If there is no error, the command will return the current version of the installed Node on your system.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Ss6187xH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623272030024/Fq-6EaBvk.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Ss6187xH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623272030024/Fq-6EaBvk.png" alt="frame_generic_light (2).png" loading="lazy"></a></p>


<hr>
<h3>
  <a name="what-is-express-js" href="#what-is-express-js">
  </a>
  What is Express JS?
</h3>

<p>Express JS is a popular framework of Node JS that makes it easier to manage web applications, Express JS is the <strong>E</strong> in both M*<em>E</em><em>RN and M</em><em>E</em>*AN stack.</p>

<p>To learn more about Express JS check out the official documentation  <a href="https://expressjs.com/">Here</a> </p>


<hr>
<h3>
  <a name="what-is-gmail" href="#what-is-gmail">
  </a>
  What is Gmail?
</h3>

<p>Gmail is a free mail service provided by Google, they enable us to send and receive information (electronic-mail) on their platform.</p>

<p>To learn more about Gmail and its services you can check it out  <a href="https://en.wikipedia.org/wiki/Gmail">Here</a> </p>


<hr>
<h3>
  <a name="what-is-nodemailer" href="#what-is-nodemailer">
  </a>
  What is Nodemailer?
</h3>

<p>Nodemailer is a Node JS module (function) that allows us to send emails from our Node JS (Server) Application.</p>

<p>To learn more about Nodemailer check out the official documentation  <a href="https://nodemailer.com/about/">Here</a> </p>


<hr>
<h2>
  <a name="setting-up-our-node-js-application" href="#setting-up-our-node-js-application">
  </a>
  Setting up our Node JS Application
</h2>
<h5>
  <a name="1-to-begin-our-project-create-a-new-folder-and-name-it-raw-projectmailsender-endraw-" href="#1-to-begin-our-project-create-a-new-folder-and-name-it-raw-projectmailsender-endraw-">
  </a>
  1. To begin our project create a new folder and name it <code>projectMailSender</code>
</h5>
<h5>
  <a name="2-rightclick-on-the-raw-projectmailsender-endraw-and-select-the-raw-git-bash-here-endraw-option" href="#2-rightclick-on-the-raw-projectmailsender-endraw-and-select-the-raw-git-bash-here-endraw-option">
  </a>
  2. Right-click on the <code>projectMailSender</code> and select the <code>Git bash here</code> option
</h5>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--fVJeQy8P--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623268952635/DeubjsRqV.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--fVJeQy8P--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623268952635/DeubjsRqV.png" alt="Screenshot of the Gitbash option" loading="lazy"></a></p>

<p>Your current directory should be displayed on the bash terminal like this</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--qvUgOQuL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623271780524/_jKNxHlRu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--qvUgOQuL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623271780524/_jKNxHlRu.png" alt="frame_generic_light (1).png" loading="lazy"></a></p>

<p>If you are not using Gitbash, ensure to navigate inside the <code>projectMailSender</code> folder on your <code>cmd</code>.</p>
<h5>
  <a name="3-lets-proceed-to-generate-our-project-raw-packagejson-endraw-file-by-running-the-code-below" href="#3-lets-proceed-to-generate-our-project-raw-packagejson-endraw-file-by-running-the-code-below">
  </a>
  3. Let's proceed to generate our project <code>package.json</code> file by running the code below  👇
</h5>


<pre class="highlight plaintext"><code>
yarn init -y

</code></pre>


<p>The <code>yarn init</code> command is used to create or update a <code>package.json</code> file interactively. This command will walk you through a question and answer process to create a package.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--T33mt4LO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623271595332/i-0oVCURz.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--T33mt4LO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623271595332/i-0oVCURz.png" alt="frame_generic_light.png" loading="lazy"></a></p>

<p>We skipped some questions about the new package.json that we are creating with the <code>-y</code> flag, you can check out the questions in your next Node project by running <code>yarn init</code> without the <code>-y</code>.</p>

<blockquote>
<p>Note that <code>-y</code> is a shorthand for <code>-yes</code></p>
</blockquote>

<p>To learn more about the <code>yarn init</code> command check out the official documentation <a href="https://classic.yarnpkg.com/en/docs/cli/init/">Here</a> </p>


<hr>
<h3>
  <a name="whats-inside-packagejson" href="#whats-inside-packagejson">
  </a>
  What's inside package.json?
</h3>

<p>If the <code>yarn init</code> command is successful a new file named <code>package.json will be created in our</code>projectMailSender` folder.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--tuU5ELKp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623358667258/u8yT15-ty.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--tuU5ELKp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623358667258/u8yT15-ty.png" alt="image.png" loading="lazy"></a></p>

<p>Let's take a look at what is inside our <code>package.json</code> file below 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--43byAZFf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623359018912/0qCcJsTj0d.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--43byAZFf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623359018912/0qCcJsTj0d.png" alt="image.png" loading="lazy"></a></p>
<h5>
  <a name="1-name-the-name-of-our-project-folder" href="#1-name-the-name-of-our-project-folder">
  </a>
  1. <strong>name</strong>: the name of our project folder.
</h5>
<h5>
  <a name="2-version-you-can-set-and-update-your-project-version-here" href="#2-version-you-can-set-and-update-your-project-version-here">
  </a>
  2. <strong>version</strong>: you can set and update your project version here
</h5>

<blockquote>
<p>1 stands for a major update (version 1), second 0 stands for a minor update for the major update (version 1, with zero updates (the number of updates on version 1)), and finally the last 0 means patch, a very minor update that is not a big deal.</p>
</blockquote>
<h5>
  <a name="3-main-every-project-must-have-an-endraw-indexjs-raw-which-serves-as-an-entry-point-for-your-project-you-can-change-this" href="#3-main-every-project-must-have-an-endraw-indexjs-raw-which-serves-as-an-entry-point-for-your-project-you-can-change-this">
  </a>
  3. <strong>main</strong>: every project must have an <code>index.js</code> which serves as an entry point for your project (you can change this).
</h5>
<h5>
  <a name="4-license-your-project-license-goes-here" href="#4-license-your-project-license-goes-here">
  </a>
  4. <strong>License</strong>: your project license goes here.
</h5>

<p>More information about your project will be stored in the <code>package.json</code> file if you do not skip the <code>yarn init</code> command with the <code>-y</code> flag.</p>

<p>We will be using a file name <code>index.js</code> as our project entry point, so let's proceed to create it in our project root 👇.</p>

<p>You can either run the command below to create the file from your terminal or create it manually.</p>

<p><code></code><code><br>
touch index.js<br>
</code><code></code></p>

<p>Your project folder should look like this 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--WW28Ply2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623359863967/ogOChlPQh.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--WW28Ply2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623359863967/ogOChlPQh.png" alt="image.png" loading="lazy"></a></p>


<hr>
<h2>
  <a name="installing-express-js" href="#installing-express-js">
  </a>
  Installing Express JS
</h2>

<p>Now that we have our project setup, let us proceed to install the Express JS into our project.<br>
Use the command below 👇 to install <code>Express JS</code></p>

<p><code></code>`</p>

<p>yarn add express</p>

<p>`<code></code></p>

<blockquote>
<p>Note: if you initialized your <code>package.json</code> file with <code>npm</code>, kindly stick to it to avoid conflict, let me know in the comment section if you made this mistake.</p>
</blockquote>

<p>The <code>Express JS</code> package should be successfully installed by now let's take a look at our project folder structure again below 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--BXPFm5Ff--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623360414787/wRh0VvG9P.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BXPFm5Ff--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623360414787/wRh0VvG9P.png" alt="image.png" loading="lazy"></a></p>

<p>You should also notice from your end that a folder named <code>node_modules</code> and a file named <code>yarn.lock</code> has been created automatically in our project folder.</p>
<h3>
  <a name="explanation" href="#explanation">
  </a>
  Explanation
</h3>

<ul>
<li>### <code>node_modules</code>
</li>
</ul>

<p>This is where <code>yarn</code> or <code>npm</code> will keep the folders of our installed packages for us to make use of them later.<br></p>

<p>To learn more about <code>node_modules</code> you can check out the official documentation  <a href="https://docs.npmjs.com/cli/v7/configuring-npm/folders">Here</a> </p>

<ul>
<li>### <code>yarn.lock</code> </li>
</ul>

<p>Because we are using <code>yarn</code> as our package manager, <code>yarn</code> auto-generate this file to keep track of our project dependencies(packages).<br></p>

<p>To learn more about <code>yarn.lock</code> you can check out the official documentation  <a href="https://docs.npmjs.com/cli/v7/configuring-npm/folders">Here</a> </p>

<blockquote>
<p>Warning:<br>
Do not alter the <code>node_modules</code> folder and the <code>yarn.lock</code> file manually.</p>
</blockquote>


<hr>
<h3>
  <a name="creating-our-project-server-with-express-js" href="#creating-our-project-server-with-express-js">
  </a>
  Creating our Project Server with Express JS
</h3>

<p>Copy and paste the code below into your project entry file (<code>index.js</code> in this tutorial)</p>

<p><code></code>`<br>
// Import express into our project<br>
const express = require("express");</p>

<p>// Creating an instance of express function<br>
const app = express();</p>

<p>// The port we want our project to run on<br>
const PORT = 3000;</p>

<p>// Express allows us to listen to the PORT and trigger a console.log() when you visit the port<br>
app.listen(PORT, () =&gt; {<br>
  console.log(<code>Server is 🏃‍♂️ on port ${PORT}</code>);<br>
});<br>
`<code></code></p>

<p>This is the minimum way of setting up a server with the Express Node JS framework, I have included comments that are straightforward in the code snippet 👆, so it will be present in your own project for reference.</p>

<p>Let's proceed to test our server by running the code below in our terminal.</p>

<p><code></code><code><br>
node index.js<br>
</code><code></code></p>
<h3>
  <a name="output" href="#output">
  </a>
  Output 👇
</h3>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--sUywjhJm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623363322308/FeClCz8lc.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--sUywjhJm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623363322308/FeClCz8lc.png" alt="image.png" loading="lazy"></a></p>


<hr>
<h2>
  <a name="setting-up-nodemon" href="#setting-up-nodemon">
  </a>
  Setting up Nodemon
</h2>

<p>Now that our server is running on our terminal, let's try to change something in our <code>console.log()</code>, let's say we update the console message below 👇</p>

<p><code></code>`</p>

<p>app.listen(PORT, () =&gt; {<br>
  console.log(<code>Server is currently 🏃‍♂️ on port ${PORT}</code>);<br>
});</p>

<p>`<code></code></p>

<p>Save your file and check your terminal, you should notice that the previous message is still displayed, this implies that the server will not restart whenever there is a change in our project directory, we need to do this manually each time we make a change in the project by stopping the server with <code>ctrl + c</code> and starting it again with <code>node index.js</code>.</p>

<p>If you restart your server, you should get a new message like below 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--uiHjYCJA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623400668115/5XgXIc-DV.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--uiHjYCJA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623400668115/5XgXIc-DV.png" alt="frame_generic_light.png" loading="lazy"></a></p>

<p>To do this automatically, we can install a package called <code>nodemon</code>, <code>nodemon</code> will help us listen to changes in our project files and automatically restart the server within seconds.</p>

<p>Run the following command to install <code>nodemon</code> to your project</p>

<p><code></code><code><br>
yarn add --dev nodemon<br>
</code><code></code></p>

<p>We are installing the <code>nodemon</code> package as a development dependency because it is not needed when we finally host our Node JS project to production.</p>

<p>To learn more about dependencies and devDependencies in <code>package.json</code> you can check it out  <a href="https://docs.npmjs.com/specifying-dependencies-and-devdependencies-in-a-package-json-file">Here</a> </p>

<p>Now that we've installed <code>nodemon</code> package in our project, let us set it up to do its job.</p>

<p>Open your <code>package.json</code> file 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--sFQSvTFW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623401648758/dSMsW1zhs.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--sFQSvTFW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623401648758/dSMsW1zhs.png" alt="image.png" loading="lazy"></a></p>

<p>Your project <code>express</code> package should be inside the dependencies object while the <code>nodemon</code> should be inside the devDependencies, this is because we need the <code>express</code> package in our production but we only need the <code>nodemon</code> for our project development.</p>

<blockquote>
<p>if your <code>package.json</code> is not structured like the above, kindly check back how we installed the two packages previously.</p>
</blockquote>

<p>Add the following code to your <code>package.json</code> file 👇</p>

<p><code></code>`<br>
// Before the dependencies</p>

<p>"scripts": {<br>
    "start": "nodemon index.js"<br>
  },</p>

<p>`<code></code><br>
Your <code>package.json</code> file should look something like below 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--0FekRRZd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623452026035/9bx1_Ndp9.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--0FekRRZd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623452026035/9bx1_Ndp9.png" alt="image.png" loading="lazy"></a></p>

<p>we are basically adding a command to our project which can be accessed through <code>yarn</code> or <code>npm</code>, in this case, we are saying when we run the <code>yarn start</code> command, <code>yarn</code> should start our project with <code>nodemon index.js</code>, so that <code>nodemon</code> will start listening to our file changes.</p>

<p>Start the server again with the code below 👇</p>

<p><code></code>`</p>

<p>yarn start</p>

<p>`<code></code></p>

<p>You should get a response, that <code>nodemon</code> is ready for any file change and will restart the server immediately.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--FLHJssph--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623402989909/t0wi6JQsA.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--FLHJssph--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623402989909/t0wi6JQsA.png" alt="frame_generic_light (1).png" loading="lazy"></a></p>

<p>You can proceed to change your <code>console.log()</code> message and see if the server will restart automatically.</p>

<blockquote>
<p>Kindly note that <code>nodemon</code> will only listen to changes to files with <code>.js</code>, <code>.mjs</code>,  and <code>.json</code> extensions, we will have to handle the refresh of the HTML and CSS files on our browser.</p>
</blockquote>

<p>If you wish to handle this automatically you can click  <a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer">HERE </a> to install a live server on your <strong>VScode</strong> to listen for the HTML and CSS file changes.</p>

<p>Click the go-live to turn on the server for your HTML file (ensure you are currently on your HTML file)</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--aIU9giut--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623599939895/MOwuIO-3_.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--aIU9giut--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623599939895/MOwuIO-3_.png" alt="image.png" loading="lazy"></a></p>


<hr>
<br>
Now that we have our server up and running with <code>nodemon</code> listening to our file changes, let design our application interface.

<ol>
<li><p>Create a new folder and name it <code>public</code></p></li>
<li><p>Inside the <code>public</code> folder create the following files  </p></li>
</ol>

<ul>
<li><h4>
  <a name="-endraw-indexhtml-raw-" href="#-endraw-indexhtml-raw-">
  </a>
  <code>index.html</code>
</h4></li>
<li><h4>
  <a name="-endraw-indexcss-raw-" href="#-endraw-indexcss-raw-">
  </a>
  <code>index.css</code>
</h4></li>
<li><h4>
  <a name="-endraw-successhtml-raw-" href="#-endraw-successhtml-raw-">
  </a>
  <code>success.html</code>
</h4></li>
<li><h4>
  <a name="-endraw-successcss-raw-" href="#-endraw-successcss-raw-">
  </a>
  <code>success.css</code>
</h4></li>
</ul>


<hr>

<p>Copy the code below 👇 into the stated files respectively</p>


<hr>
<h3>
  <a name="indexhtml" href="#indexhtml">
  </a>
  index.html
</h3>

<p><code></code>`<br>
&lt;!DOCTYPE html&gt;<br>
<br>
  </p>
<br>
    <br>
    <br>
    <br>
    &lt;!-- Css styles --&gt;<br>
    <br>
    &lt;!-- Fontawesome icon library --&gt;<br>
    
      rel="stylesheet"<br>
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"<br>
    /&gt;<br>
    e-Mail Sender Application<br>
  <br>
  <br>
    <br>
      <h2>e-Mail Sender Application</h2>
<br>
      <br>

<p>`<code></code></p>


<hr>

<ul>
<li>### <code>index.css</code>
</li>
</ul>

<p><code></code>`</p>

<p>@import url("<a href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap%22">https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"</a>);</p>

<ul>
<li>{
box-sizing: border-box;
font-family: "Poppins";
}</li>
</ul>

<p>h2 {<br>
  font-size: 2rem;<br>
}</p>

<p>.input-wrapper {<br>
  display: -ms-flexbox; /* IE10 */<br>
  display: flex;<br>
  width: 100%;<br>
  margin-bottom: 15px;<br>
  font-family: "Poppins";<br>
}</p>

<p>.icon {<br>
  padding: 10px;<br>
  background: #333333;<br>
  color: white;<br>
  min-width: 50px;<br>
  text-align: center;<br>
  font-family: "Poppins";<br>
}</p>

<p>.input-field {<br>
  width: 100%;<br>
  padding: 10px;<br>
  outline: none;<br>
  font-family: "Poppins";<br>
  border: 2px solid #333333;<br>
}</p>

<p>.input-field:focus {<br>
  box-shadow: 0 0 10px #333333;<br>
  border: 2px solid #333333;<br>
}</p>

<p>.input-wrapper textarea {<br>
  padding: 1rem;<br>
  border: 2px solid #333333;<br>
}</p>

<p>.input-wrapper textarea:focus {<br>
  outline: none;<br>
  box-shadow: 0 0 10px #333333;<br>
  border: 2px solid #333333;<br>
}</p>

<p>.attachment-wrapper {<br>
  margin: 15px 0;<br>
}</p>

<p>.attachment-wrapper label {<br>
  font-weight: 600;<br>
}</p>

<p>.send-btn {<br>
  background-color: #333333;<br>
  color: white;<br>
  padding: 15px 20px;<br>
  border: none;<br>
  cursor: pointer;<br>
  width: 100%;<br>
  opacity: 0.9;<br>
  font-size: 16px;<br>
}</p>

<p>.send-btn:hover {<br>
  opacity: 1;<br>
}</p>

<p>`<code></code></p>


<hr>

<ul>
<li>### <code>success.html</code>
</li>
</ul>

<p><code></code>`</p>

<p>&lt;!DOCTYPE html&gt;<br>
<br>
  </p>
<br>
    <br>
    <br>
    
<pre class="highlight plaintext"><code>&lt;link rel="stylesheet" href="./success.css" /&gt;
&lt;!-- Fontawesome icon library --&gt;
&lt;link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/&gt;
&lt;title&gt;Mail Sent&lt;/title&gt;
</code></pre>

<br>
    
<pre class="highlight plaintext"><code>&lt;h1&gt;Message Delivered!!!&lt;/h1&gt;
&lt;a href="./index.html"&gt;New message&lt;/a&gt;
</code></pre>


<p>`<code></code></p>


<hr>
<h3>
  <a name="-endraw-successcss-raw-" href="#-endraw-successcss-raw-">
  </a>
  <code>success.css</code>
</h3>

<p><code></code>`</p>

<p>@import url("<a href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap%22">https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"</a>);</p>

<p>body {<br>
  font-family: "Poppins";<br>
  display: flex;<br>
  flex-direction: column;<br>
  justify-content: center;<br>
  align-items: center;<br>
  height: 70vh;<br>
  color: #333333;<br>
}</p>

<p>a {<br>
  color: blue;<br>
}</p>

<p>a:hover {<br>
  opacity: 0.8;<br>
}</p>

<p>body .icon {<br>
  font-size: 3rem;<br>
}</p>

<p>`<code></code></p>


<hr>
<h3>
  <a name="rendering-static-files-to-the-browser-with-express-js" href="#rendering-static-files-to-the-browser-with-express-js">
  </a>
  Rendering Static Files to the Browser with Express JS
</h3>

<p>Yes, we cannot just access our HTML file directly from our browser, express must handle that for us and to this point, we can only access our application port <code>3000</code> on our terminal, let's see how we can display our HTML files on our browser using Express JS.</p>

<p>Update the <code>index.js</code> with the following code</p>

<p><code></code>`<br>
....<br>
// After PORT = 3000;</p>

<p>// Express should add our path<br>
app.use(express.static("public"));</p>

<p>// Render the index.html when the user visit our project port<br>
app.get("/", (req, res) =&gt; {<br>
  res.sendFile("/index.html");<br>
});</p>

<p>...</p>

<p>`<code></code></p>

<h3>
  <a name="explanation" href="#explanation">
  </a>
  Explanation
</h3>

<h5>
  <a name="1-endraw-appuseexpressstaticpublic-raw-" href="#1-endraw-appuseexpressstaticpublic-raw-">
  </a>
  1. <code>app.use(express.static("public"));</code>
</h5>

<ul>
<li>
We are using the express js method called <code>use</code> to chain a middleware called <code>static</code>, which allows us to serve static files like <code>html</code>, <code>css</code>, <code>js</code>, <code>image</code>, and more.</li>
</ul>

<blockquote>
<p>The <code>public</code> folder is defined inside the <code>static</code> middleware as our project root directory.</p>
</blockquote>

<h5>
  <a name="2-endraw-appget-raw-" href="#2-endraw-appget-raw-">
  </a>
  2. <code>app.get</code>
</h5>

<ul>
<li>
<span id="get"><code>app.get()</code></span> is a function that tells the server what to do when a get request at the given route is called.</li>
</ul>

<h5>
  <a name="3-endraw-req-res-raw-" href="#3-endraw-req-res-raw-">
  </a>
  3. <code>("/", (req, res)</code>
</h5>

<ul>
<li><p>The forward slash signifies the root directory of our route, just like <code>www.hashnode.com</code></p></li>
<li><p>The <code>req</code> argument stands for <strong>request</strong> from that particular route, while the <code>res</code> represents <strong>response</strong>, which is a means to send back a response to the route caller.</p></li>
</ul>

<h5>
  <a name="4-endraw-ressendfileindexhtml-raw-" href="#4-endraw-ressendfileindexhtml-raw-">
  </a>
  4. <code> res.sendFile("/index.html");</code>
</h5>

<ul>
<li>
Remember the <code>res</code> above 👆 us used to send back a response? the <code>res</code> has a method to send back a file to the route been called, and that is what we are doing here, we are returning the <code>index.html</code> file when the root route of the project is been hit.</li>
</ul>

<h3>
  <a name="project-ui-routing-on-a-browser-with-express-js" href="#project-ui-routing-on-a-browser-with-express-js">
  </a>
  Project UI Routing on a Browser with Express JS
</h3>

<p>Routing refers to how our application's endpoints (URLs) respond to the client (browser) request through the <code>req</code> parameter, this is unique for a particular endpoint (URL).  </p>

<p><a href="//www.hashnode.com/onboard">www.hashnode.com</a> will respond with the landing page while a request to <a href="//www.hashnode.com/onboard">www.hashnode.com/onboard</a> will respond with a login page 😉.</p>

<p>Since we have our route and static files setup, it's time to visit our project port in our browser 💃</p>

<p>You can either copy-paste this route 👉 <strong>localhost:3000</strong> to your browser address bar and hit enter or click this link <a href="http://localhost:3000/">localhost:3000</a>.</p>

<p>If all goes well, you should have this 👇 displayed on your browser.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ytywwY9G--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623438401772/ZS1obK64P.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ytywwY9G--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623438401772/ZS1obK64P.png" alt="frame_generic_light (3).png" loading="lazy"></a></p>

<p>You can as well visit the <strong>success page</strong> using this link <a href="http://localhost:3000/success.html">localhost:3000/success.html</a> </p>

<p>Our success page should look something like below 👇.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gJrJ9dXn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623438866078/r3NoVbSbG.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gJrJ9dXn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623438866078/r3NoVbSbG.png" alt="frame_generic_light (4).png" loading="lazy"></a></p>


<hr>

If you made it this far let's take a break, and celebrate 😍

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--cwwsyJ3r--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623439898942/K-fo4ZjR5.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--cwwsyJ3r--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623439898942/K-fo4ZjR5.gif" alt="fb7596eafc1adf186d0e6ed139b458d8.gif" loading="lazy"></a></p>

<p>Let's drink up 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--2NIhOxeQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623439914103/Fp2zTwupt.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--2NIhOxeQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623439914103/Fp2zTwupt.gif" alt="giphy (4).gif" loading="lazy"></a></p>


<hr>

<p>** </p> Welcome Back 🤩 **


<hr>
<h2>
  <a name="handling-data-from-our-html-forms" href="#handling-data-from-our-html-forms">
  </a>
  Handling Data from our HTML forms
</h2>

<p>Now that we have our project UI setup, let's look into handling the data submitted by the sender.</p>

<p>Note that, our HTML form has the following form input types</p>

<ol>
<li>email - text</li>
<li>subject -  text</li>
<li>message - text</li>
<li>attachment - file</li>
</ol>

<p>Generally, to have access to a request body through the <a href="#get"><code>req</code></a> parameter in the <code>get()</code> function, we need a middleware package called <code>bodyparser</code>, but this is also provided by the express JS function, so we do not need to install any package for this.</p>

<p>Update the <code>index.js</code> with the code below</p>

<p><code></code>`<br>
// After the express static middleware<br>
...</p>

<p>// Body parser<br>
app.use(express.json());<br>
app.use(express.urlencoded({ extended: false }));</p>

<p>...</p>

<p>`<code></code></p>

<p>Now that we have our <code>body-parser</code> setup, let's see it in action by creating a <code>POST</code> route in our application, which we will use to <code>post</code> the entries of the sender to our server.</p>

<p>Add the following code below the <code>get</code> route function</p>

<p><code></code>`<br>
// Post route to handle retrieving data from HTML form to server<br>
app.post("/send_email", (req, res) =&gt; {<br>
  console.log(req.body);<br>
});</p>

<p>`<code></code><br>
We also need to update our HTML form to have a <code>POST</code> method and also set the path to post the data to like below.</p>

<p><code></code><code><br>
    &lt;form<br>
      action="/send_email"<br>
      method="POST"<br>
      style="max-width: 500px; margin: auto"<br>
    &gt;<br>
</code><code></code></p>

<h3>
  <a name="explanation" href="#explanation">
  </a>
  Explanation
</h3>

<h5>
  <a name="1-endraw-actionsendemail-raw-" href="#1-endraw-actionsendemail-raw-">
  </a>
  1. <code>action="/send_email"</code>
</h5>

<ul>
<li>The action attribute is used to specify where we want to send the form data when the form is submitted, we are sending the data to the <strong>/send_email</strong> route in our application.</li>
</ul>

<h5>
  <a name="2-endraw-methodpost-raw-" href="#2-endraw-methodpost-raw-">
  </a>
  2. <code>method="POST"</code>
</h5>

<ul>
<li>The post method is good when sending sensitive information from the client (browser) to the server (backend), it hides the form values from the browser address bar unlike the <code>GET</code> method which displays it, the post method also appends form data inside the body of the HTTP request, this body is what express js is parsing and is also been retrieved using through the <code>req</code> parameter in our route functions. </li>
</ul>

<h5>
  <a name="3-endraw-reqbody-raw-" href="#3-endraw-reqbody-raw-">
  </a>
  3. <code>req.body</code>
</h5>

<ul>
<li>Here we are accessing the form body object from the <code>req</code> parameter which contains all the data from our HTML inputs (example ahead).</li>
</ul>

<p>Now that we have all this setup, let us proceed to send a sample mail that will be displayed in our terminal.</p>

<p>Fill in the form inputs and also select an attachment then click the <strong>send mail</strong> button.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--6X9x2Qhd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623451260493/BXc1XCxm_.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6X9x2Qhd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623451260493/BXc1XCxm_.png" alt="frame_generic_light (6).png" loading="lazy"></a></p>

<p>If you have all your project set up correctly you, should have the form values displayed below in your terminal.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--SErkcBjn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623451499503/tsc87IKM_.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--SErkcBjn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623451499503/tsc87IKM_.png" alt="image.png" loading="lazy"></a></p>

<blockquote>
<p>That 👆 is the example of the <code>req.body</code>, this picks up the attribute name of the HTML input tags</p>
</blockquote>


<hr>
<h2>
  <a name="the-post-method" href="#the-post-method">
  </a>
  The <u>POST</u> Method
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IA0vCOxn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623452802484/EhPiX5yC3.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IA0vCOxn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623452802484/EhPiX5yC3.png" alt="frame_generic_light (9).png" loading="lazy"></a></p>

<blockquote>
<p>Did you noticed that your browser address bar didn't change 💁‍♂️, now set your form method to <code>GET</code> and try sending a mail again, what did you notice?</p>
</blockquote>


<hr>
<h2>
  <a name="the-get-method" href="#the-get-method">
  </a>
  The <u>GET</u> Method
</h2>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--4yRPCxqx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623452831541/SFbncJzcP.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--4yRPCxqx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623452831541/SFbncJzcP.png" alt="frame_generic_light (8).png" loading="lazy"></a></p>

<p>The submitted data are been displayed on the address bar, imagine you are submitting your password 😱. </p>

<blockquote>
<p>Which method will you use for credit cards ?.</p>
</blockquote>


<hr>
<h2>
  <a name="handling-files-over-a-node-js-server" href="#handling-files-over-a-node-js-server">
  </a>
  Handling Files over a Node JS server
</h2>

<p>In this section, we will look into handling files coming from the client-side to our project Node JS backend application. </p>

<p>In other to handle files  coming from the frontend, we need to install a package called <code>multer</code></p>

<p>Multer is a node.js middleware for handling <strong>multipart/form-data</strong>, which is primarily used for uploading files.</p>

<p>Multer also has a rule, which is that <strong>multer will not process any form which is not multipart (multipart/form-data).</strong></p>

<p>In other to make <code>multer</code> work in our project we need to add an encryption attribute to our form tag like below.</p>

<p><code></code>`<br>
    </p>
<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>  action="/send_email"&lt;br&gt;
  method="POST"&lt;br&gt;
  enctype="multipart/form-data"&lt;br&gt;
  style="max-width: 500px; margin: auto"&lt;br&gt;
&amp;gt;
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>
<p>`<code></code></p>

<p>Ensure to update your form tag with the new attribute, after that, we need to create a new folder called <code>attachments</code> in our project root directory</p>

<p>Your project structure and <code>index.js</code> should look like this</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--aknsBDZi--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623454927337/3GxIb_cx5.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--aknsBDZi--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623454927337/3GxIb_cx5.png" alt="image.png" loading="lazy"></a></p>


<hr>
<h3>
  <a name="configuring-multer" href="#configuring-multer">
  </a>
  Configuring Multer
</h3>

<p>To configure our project to use multer, we need to first install it using the command below</p>

<p><code></code>`<br>
yarn add multer</p>

<p>`<code></code></p>

<p>Once it is installed, we need to configure it in our <code>index.js</code> file.</p>

<h3>
  <a name="setting-up-multer-endraw-diskstorage-raw-" href="#setting-up-multer-endraw-diskstorage-raw-">
  </a>
  Setting up multer <code>diskStorage</code>
</h3>

<p>Multer allows us to specify where we want to store the attachments coming from the frontend and also define their unique names through its method called <strong>diskStorage</strong>.</p>

<p>require <code>multer</code> below where we required the <code>express</code> js</p>

<p><code></code>`<br>
// Import express into our project<br>
const express = require("express");</p>

<p>// Import multer<br>
const multer = require("multer");</p>

<p>...<br>
`<code></code></p>

<p>Copy-paste the following code, below the body-parser.</p>

<p><code></code><code><br>
// Multer file storage<br>
const Storage = multer.diskStorage({<br>
  destination: function (req, file, callback) {<br>
    callback(null, "./attachments");<br>
  },<br>
  filename: function (req, file, callback) {<br>
    callback(null,</code>${file.fieldname}<em>${Date.now()}</em>${file.originalname}`);<br>
  },<br>
});</p>

<p>`<code></code></p>


<hr>
<h3>
  <a name="explanation" href="#explanation">
  </a>
  Explanation
</h3>
<h4>
  <a name="-endraw-multerdiskstorage-raw-" href="#-endraw-multerdiskstorage-raw-">
  </a>
  <strong><em><code>multer.diskStorage</code></em></strong>
</h4>
<h4>
  <a name="1-endraw-destination-raw-" href="#1-endraw-destination-raw-">
  </a>
  1.  <strong><em><code>destination</code></em></strong>
</h4>

<p>This multer method allows us to set the destination of our attachment through a callback function, and as you can see we passed our <code>attachment</code> folder as the second argument of the callback function, this is where the attachment of a mail will be store (example coming up).</p>

<h4>
  <a name="2-endraw-filename-raw-" href="#2-endraw-filename-raw-">
  </a>
  2.  <strong><em><code>filename</code></em></strong>
</h4>

<p>The second property we can set using the <code>diskStorage</code> is the file name of the incoming attachment, we do this so that every attachment will have a unique file name, we concatenate the field name (from, input name=" attachment") with underscore <code>_</code> and current date that the file is been attached in milliseconds with another underscore <code>_</code> and finally the attachment original name. </p>

<p>That is super unique 😍</p>


<hr>

<p>Let's proceed to write middleware to actually get the attachment from the request body.</p>

<p><code></code>`<br>
// Middleware to get a single attachment<br>
const attachmentUpload = multer({<br>
  storage: Storage,<br>
}).single("attachment");</p>

<p>`<code></code><br>
What we are doing here is that we are passing the attachment storage logic we created into the <strong>multer</strong> object and also telling <strong>multer</strong> that we are only targeting a single attachment with the <code>.single("attachment")</code>.</p>

<h3>
  <a name="applying-multer-middleware-to-our-post-route" href="#applying-multer-middleware-to-our-post-route">
  </a>
  Applying Multer Middleware to our Post Route
</h3>

<p>Now that we have set up a middleware with <code>multer</code>, which will help us retrieve attachments from the frontend form, let's proceed to apply it within our Post route.</p>

<p>Update the application post route with the following code</p>

<p><code></code>`<br>
// Post route to handle retrieving data from HTML form to server<br>
app.post("/send_email", (req, res) =&gt; {<br>
  if (error) {<br>
      console.log(err);<br>
      return res.send("Error uploading file");<br>
    } else {<br>
      const recipient = req.body.email;<br>
      const subject = req.body.subject;<br>
      const message = req.body.message;<br>
      const attachmentPath = req.file.path;<br>
      console.log("recipient:", recipient);<br>
      console.log("subject:", subject);<br>
      console.log("message:", message);<br>
      console.log("attachmentPath:", attachmentPath);<br>
    }</p>

<p>});</p>

<p>`<code></code></p>

<h3>
  <a name="explanation" href="#explanation">
  </a>
  Explanation
</h3>

<h5>
  <a name="1-we-invoked-callexecute-the-endraw-attachmentupload-raw-middleware-function-and-extend-pass-the-endraw-req-raw-and-endraw-res-raw-parameter-from-the-post-route-function-to-it-this-will-allow-the-middleware-to-have-access-to-any-file-in-the-request-body" href="#1-we-invoked-callexecute-the-endraw-attachmentupload-raw-middleware-function-and-extend-pass-the-endraw-req-raw-and-endraw-res-raw-parameter-from-the-post-route-function-to-it-this-will-allow-the-middleware-to-have-access-to-any-file-in-the-request-body">
  </a>
  1. We invoked (call/execute) the <code>attachmentUpload</code> middleware function and extend (pass) the <code>req</code> and <code>res</code> parameter from the post route function to it. This will allow the middleware to have access to any file in the request body.
</h5>

<h5>
  <a name="2-the-endraw-attachmentupload-raw-also-takes-in-a-callback-function-which-will-check-for-any-error-while-endraw-attachmentupload-raw-processes-the-files-from-the-request-body" href="#2-the-endraw-attachmentupload-raw-also-takes-in-a-callback-function-which-will-check-for-any-error-while-endraw-attachmentupload-raw-processes-the-files-from-the-request-body">
  </a>
  2. The <code>attachmentUpload</code> also takes in a callback function which will check for any error while <code>attachmentUpload</code> processes the files from the request body.
</h5>

<h5>
  <a name="3-in-the-callback-function-we-are-checking-whether-there-is-an-error-in-the-process-endraw-if-raw-any-error-occurs-we-want-to-display-the-error-in-the-terminal-and-send-back-a-message-which-says-endraw-error-uploading-file-raw-as-a-response-endraw-res-raw-" href="#3-in-the-callback-function-we-are-checking-whether-there-is-an-error-in-the-process-endraw-if-raw-any-error-occurs-we-want-to-display-the-error-in-the-terminal-and-send-back-a-message-which-says-endraw-error-uploading-file-raw-as-a-response-endraw-res-raw-">
  </a>
  3. In the callback function, we are checking whether there is an error in the process, <strong><code>if</code></strong> any error occurs, we want to display the error in the terminal and send back a message which says <code>Error uploading file</code> as a response (<code>res</code>).
</h5>

<blockquote>
<p>A call-back function is any function that is been passed as an argument to another function, which will be executed (call-back) later in time (any point in time).</p>
</blockquote>

<h5>
  <a name="4-finally-we-included-an-alternative-statement-with-the-endraw-else-raw-block-which-is-executed-if-the-previous-statement-is-not-satisfied-this-implies-that-the-endraw-else-raw-statement-block-will-only-run-if-there-is-no-error-when-the-middleware-is-trying-to-upload-any-attachments-from-the-html-form-to-the-attachment-folder" href="#4-finally-we-included-an-alternative-statement-with-the-endraw-else-raw-block-which-is-executed-if-the-previous-statement-is-not-satisfied-this-implies-that-the-endraw-else-raw-statement-block-will-only-run-if-there-is-no-error-when-the-middleware-is-trying-to-upload-any-attachments-from-the-html-form-to-the-attachment-folder">
  </a>
  4. Finally, we included an alternative statement with the <strong><code> else</code></strong> block which is executed if the previous statement is not satisfied. This implies that the <code>else</code> statement block will only run if there is no error when the middleware is trying to upload any attachments from the HTML form to the "attachment" folder.
</h5>


<hr>
<h3>
  <a name="storing-files-from-html-form-to-our-storage-folder" href="#storing-files-from-html-form-to-our-storage-folder">
  </a>
  Storing Files from HTML Form to our Storage Folder
</h3>

<p>Let's proceed to test our implementation so far.</p>

<p>Save your script and refresh your browser (if you're not using a live server) to get updated with our node script.</p>

<p>Fill the form inputs and attach any file of your choice as shown below 👇 and hit the send button.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--_UySl3qs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623591706488/Jpjk8_Ha0.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--_UySl3qs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623591706488/Jpjk8_Ha0.png" alt="frame_generic_light (13).png" loading="lazy"></a></p>

<h3>
  <a name="output-1" href="#output-1">
  </a>
  Output 1 👇
</h3>

<p>If all goes well, your terminal should have the following output 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--K-v8mHPK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623591541760/9hkxSymQe.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--K-v8mHPK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623591541760/9hkxSymQe.png" alt="frame_generic_light (12).png" loading="lazy"></a></p>

<p>You should also notice that the attachment name has changed to the naming convention logic we created earlier 👇.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--KkhJJp_I--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623593206815/6YLCpLHmQ.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--KkhJJp_I--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623593206815/6YLCpLHmQ.png" alt="frame_generic_light (14).png" loading="lazy"></a></p>

<h3>
  <a name="output-2" href="#output-2">
  </a>
  Output 2 👇
</h3>

<p>The fun part is, if you expand the <em>attachment</em> folder, you will see your attached file there 💃, thanks to <strong>multer</strong>, you can also check the folder directory in the file explorer.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8hELOl8S--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623591792981/jiAKUiu0U.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8hELOl8S--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623591792981/jiAKUiu0U.png" alt="image.png" loading="lazy"></a></p>

<h3>
  <a name="check-your-file-explorer" href="#check-your-file-explorer">
  </a>
  Check your File Explorer 👇
</h3>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8kDbJOYb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623595804065/xI-oIaa-8.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8kDbJOYb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623595804065/xI-oIaa-8.png" alt="image.png" loading="lazy"></a></p>

<blockquote>
<p>You can check the complete code to this point from my GitHub gist <a href="https://gist.github.com/unclebay143/afd096589fc868b86fd9edd1eb291f27">Here ✋</a> </p>
</blockquote>


<hr>
<h2>
  <a name="setting-up-nodemailer-package" href="#setting-up-nodemailer-package">
  </a>
  Setting up Nodemailer Package
</h2>

<p>Now that we can get data submitted from our HTML form to our Node JS server, let us proceed to set up the logic that will actually send out the mail 💃 to our recipient.</p>

<p>In other to achieve this, we need to install and setup the awaited <code>Nodemailer</code> package, just as the name implies, this package allows us to send mail from our Node js application without stress, to begin with, let us install the <code>Nodemailer</code> package using the code below.</p>

<p><code></code>`</p>

<p>yarn add nodemailer</p>

<p>`<code></code></p>

<h3>
  <a name="nodemailer-requirements" href="#nodemailer-requirements">
  </a>
  Nodemailer Requirements
</h3>

<p>Now that the <code>nodemailer</code> package has been successfully installed, let us break down the requirements for using the <code>nodemailer</code> package.</p>

<h4>
  <a name="1-nodemailer-requires-a-transporter-object" href="#1-nodemailer-requires-a-transporter-object">
  </a>
  1. Nodemailer requires a *<em>transporter *</em> object
</h4>

<p>This is where we configure the means of sending out the mail, we are going to be using the Gmail service in this article.</p>

<p>Below 👇 is the format of  a <code>nodemailer</code> transport.</p>

<p><code></code>`<br>
let transporter = nodemailer.createTransport({<br>
   service: 'gmail',<br>
   auth: {<br>
      type: 'OAuth2',<br>
      user: "your gmail address",<br>
      pass: "your gmail password",<br>
      clientId: "your gmail client id",<br>
      clientSecret: "your gmail client secret token",<br>
      refreshToken: "gmail refresh token",<br>
   }<br>
});</p>

<p>`<code></code></p>

<h4>
  <a name="2-nodemailer-requires-a-mailoption" href="#2-nodemailer-requires-a-mailoption">
  </a>
  2. Nodemailer requires a <strong>mailOption</strong>
</h4>

<p>This is an object where we specify the following</p>

<p>a. The sender's email address (required)  </p>

<p>b. The recipient's email address (required)  </p>

<p>c. The mail subject (optional)  </p>

<p>d. The email text body (optional) and  </p>

<p>e. The attachments  (optional)</p>

<p>Below 👇 is the format for a mailOption</p>

<p><code></code><code><br>
let mailOptions = {<br>
  from: "your gmail address",<br>
  to: "your recipient email address",<br>
  subject: "e-mail subject",<br>
  text: "e-mail body",<br>
};<br>
</code><code></code></p>

<h4>
  <a name="3-node-mailer-requires-a-endraw-sendmail-raw-method" href="#3-node-mailer-requires-a-endraw-sendmail-raw-method">
  </a>
  3. Node mailer requires a <code>sendMail</code> method
</h4>

<p>Nodemailer <code>sendMail</code> method is actually the one responsible for the sending of email to the recipient, this method takes in the <code>mailOption</code> we've discussed above and also a callback function to handle the status of the mail transportation.</p>

<p>Below 👇 is the format for <code>sendMail</code> method</p>

<p><code></code>`<br>
transporter.sendMail(mailOptions, function(err, data) {<br>
   if (err) {<br>
      console.log("Error: " + err);<br>
   } else {<br>
      console.log("Email sent successfully");<br>
   }<br>
});</p>

<p>`<code></code></p>

<p>The complete code of the <code>nodemailer</code> should be like this 👇</p>

<p><code></code>`</p>

<p>// After the last console.log(attachmentPath) in the else statement</p>

<p>// Connecting to gmail service<br>
let transporter = nodemailer.createTransport({<br>
    service: "gmail",<br>
    auth: {<br>
        type: "OAuth2",<br>
        user: "your gmail address",<br>
        pass: "your gmail password",<br>
        clientId: "your gmail client id",<br>
        clientSecret: "your gmail client secret token",<br>
        refreshToken: "gmail refresh token",<br>
    },<br>
});</p>

<p>// e-mail option<br>
let mailOptions = {<br>
   from: "your gmail address",<br>
   to: "your recipient email address",<br>
   subject: "e-mail subject",<br>
   text: "e-mail body",<br>
};</p>

<p>// Method to send e-mail out<br>
transporter.sendMail(mailOptions, function (err, data) {<br>
    if (err) {<br>
        console.log("Error: " + err);<br>
    } else {<br>
        console.log("Email sent successfully");<br>
    }<br>
});</p>

<p>`<code></code></p>

<p>The above code will serve as our <strong>nodemailer ** template, which we need to find the credentials to, but before we do that, we need to set up a secure way to protect the transporter credentials such as the **user</strong>, <strong>pass</strong>, <strong>clientId</strong>, <strong>clientSecret</strong> and the <strong>refresh token</strong> that we be provided by google, so that everyone will not be able to see our application secret details from Github repository when we finally push to production.</p>


<hr>
<h2>
  <a name="setting-up-dotenv" href="#setting-up-dotenv">
  </a>
  Setting up dotenv
</h2>

<p><code>dotenv</code> allows us to keep secret credentials or tokens in our project environment (.env file), which will not be visible to either the browser, git version control, or people viewing our project on Github, these are called the <code>Environment Variables</code>.</p>

<blockquote>
<p>Ensure to add the .env file to your .gitignore file</p>
</blockquote>

<p>Run the code below 👇 to install the <code>dotenv</code> to your project</p>

<p><code></code>`<br>
yarn add dotenv</p>

<p>`<code></code></p>

<p>After the <code>dotenv</code> installation, proceed to create a <code>.env</code> file in your project root directory like this 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gl5Mwsbn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623656689509/MuEabNjvJ.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gl5Mwsbn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623656689509/MuEabNjvJ.png" alt="image.png" loading="lazy"></a></p>

<p>This is where we are going to store our <strong>Environment-Specific</strong> variables in a <code>NAME=value</code> format like below 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--b_4BkQfE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623657156443/eg1P6ECPJ.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--b_4BkQfE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623657156443/eg1P6ECPJ.png" alt="image.png" loading="lazy"></a></p>

<p>To access this *<em>enviroment-variable *</em> from our JavaScript application we need to require (import) the <code>dotenv</code> package in our <code>index.js</code> and configure it like below 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--QGhFDHcn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623657621117/fV89203dW.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--QGhFDHcn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623657621117/fV89203dW.png" alt="image.png" loading="lazy"></a></p>

<p>Or like this 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8dmcBIPp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623657755775/tng7mIc7W.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8dmcBIPp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623657755775/tng7mIc7W.png" alt="image.png" loading="lazy"></a></p>

<p>You can use this method of import when you need to use other <code>dotenv</code> function like <code>parse</code>, but in this article, we are going to make use of the first method 👆 because we only need the <code>config()</code> function.</p>

<p>To learn more about the <code>dotenv</code> package, you can visit the official documentation  <a href="https://www.npmjs.com/package/dotenv">Here</a> </p>


<hr>
<h3>
  <a name="accessing-our-environmentvariables-from-endraw-dotenv-raw-file" href="#accessing-our-environmentvariables-from-endraw-dotenv-raw-file">
  </a>
  Accessing our environment-variables from <code>dotenv</code> file
</h3>

<p>Now that we know how to use the <code>dotenv</code> package to store our <strong>enviroment-variable</strong> in our JavaScript application let us see how we can then access this variables in our scripts.</p>

<p>Add this line of code below the <code>dotenv</code> configuration 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ClkD3Vql--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623659537468/Gd6Od83Qn.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ClkD3Vql--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623659537468/Gd6Od83Qn.png" alt="image.png" loading="lazy"></a></p>

<h3>
  <a name="output" href="#output">
  </a>
  Output 👇
</h3>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--HA0s0iWA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623660497030/ID5U7drLc.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--HA0s0iWA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623660497030/ID5U7drLc.png" alt="frame_generic_light (15).png" loading="lazy"></a></p>

<p>And that is totally how to set up and <strong>use environment-variables</strong> with <code>dotenv</code> package in a JavaScript project (Not only in Node JS) 😉.</p>


<hr>

<p>If you made it this far, you deserve this 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--NbUauREi--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623662987273/cP421AUWt.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--NbUauREi--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623662987273/cP421AUWt.gif" alt="standing clapping ovation" loading="lazy"></a></p>


<hr>
<h3>
  <a name="final-lap" href="#final-lap">
  </a>
   FINAL LAP 


</h3>



<hr>

<h2>
  <a name="gmail-oauth2-configuration" href="#gmail-oauth2-configuration">
  </a>
  Gmail OAuth2 Configuration
</h2>

<p>Now that we have everything setup in our Node JS application, let's proceed to get the following credentials from Google.</p>

<ol>
<li> <code>clientId</code> : "your gmail client id",</li>
<li>
<code>clientSecret</code> : "your gmail client secret token",</li>
<li>
<code>refreshToken</code> : "gmail refresh token",</li>
</ol>

<p>Follow the guide below to setup you Gmail OAuth 2 Configurations</p>

<h3>
  <a name="1-google-cloud-platform-account-setup" href="#1-google-cloud-platform-account-setup">
  </a>
  1. Google Cloud Platform Account Setup
</h3>

<p>Firstly we need to register our Gmail address on the ** <a href="https://console.cloud.google.com/">Google Cloud Platform</a> **, if you have not done that before you can register  <a href="https://console.cloud.google.com/">HERE</a>.</p>

<p>If your gmail account is logged in on your browser you should have a screen display like this 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--VKIZhub9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623668291610/KhrcyBpBt.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VKIZhub9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623668291610/KhrcyBpBt.png" alt="google cloud platform login to dashboard" loading="lazy"></a></p>

<p>Accept the <em>Terms and Condition</em> by checking the box, the <em>Email Updates</em> is optional, and then click on <strong>Accept and Continue</strong> </p>

<h3>
  <a name="2-setting-up-a-new-project" href="#2-setting-up-a-new-project">
  </a>
  2. Setting up a New Project
</h3>

<p>Next, we need to create a new project, to do this click on the <em>CREATE PROJECT</em> link.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--HWKqz9RO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623701916901/ZolLeSQsD.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--HWKqz9RO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623701916901/ZolLeSQsD.png" alt="CREATE PROJECT link" loading="lazy"></a></p>

<ul>
<li>
Setup Project Name</li>
</ul>

<p>Fill in a name for your project, I am using <code>projectmailSender</code> in this tutorial, note that this project name will be used to generate an <code>id</code> for your project and this cannot be changed later.</p>

<ul>
<li>
After you have decided on a project name, click on the <span>Create</span>button.</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--VywVlvKF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623669488191/JnBBhB_4W.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VywVlvKF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623669488191/JnBBhB_4W.png" alt="Fill in a name for your project input box circled" loading="lazy"></a></p>

<ul>
<li>
After a few seconds delay your dashboard should look like this 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--d6M8MZrr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623681938996/JjpHTBFqC.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--d6M8MZrr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623681938996/JjpHTBFqC.png" alt="frame_generic_light (20).png" loading="lazy"></a></p>

<ul>
<li>
After loading click on <strong>Go to APIs review</strong> 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--rgEXxe75--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623682116582/1BSEXeqTO.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--rgEXxe75--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623682116582/1BSEXeqTO.png" alt="frame_generic_light (21).png" loading="lazy"></a></p>

<ul>
<li>
On the APIs review page, click on the <strong>OAuth consent screen</strong> option on the sidebar</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--pwOVovbr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623682450130/GmmJO3-rgT.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--pwOVovbr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623682450130/GmmJO3-rgT.png" alt="frame_generic_light (22).png" loading="lazy"></a></p>

<h3>
  <a name="on-the-oauth-consent-screen" href="#on-the-oauth-consent-screen">
  </a>
  On the OAuth consent Screen
</h3>

<ul>
<li>
Select external 👇 and click on the <span>create</span> button</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--iHPep6w2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623684072803/Fwmry9wxp.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--iHPep6w2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623684072803/Fwmry9wxp.png" alt="the OAuth consent Screen" loading="lazy"></a></p>

<ul>
<li>
The next step is to provide basic information about our app (nodemailSender) 👇</li>
</ul>

<p>Only three inputs are compulsory, your app name and 2 emails, one for support and the other for contacting the developer.</p>

<p>Click <strong>save and continue</strong> when you are done.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--juZhhP5S--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623682987008/nplkzkbd_.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--juZhhP5S--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623682987008/nplkzkbd_.png" alt="basic information section" loading="lazy"></a></p>

<ul>
<li>
The <strong>scope</strong> section is optional, but if you want to fill it, you can.</li>
</ul>

<p>I am going to skip it in this tutorial by clicking the <strong>Save and continue</strong> 👇.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--YPtpz7-H--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623683339013/j_slmeEWQ.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--YPtpz7-H--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623683339013/j_slmeEWQ.png" alt="the scope section is option" loading="lazy"></a></p>

<ul>
<li>
Add your email address as the test user and save 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8zdFSo4i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623683837342/IrTd544wv.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8zdFSo4i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623683837342/IrTd544wv.png" alt="add test user section" loading="lazy"></a></p>

<ul>
<li>
And finally in the <strong>Summary</strong> section, review your application data and click on 
<strong>Back to dashboard</strong> when you are satisfied.</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--SagfDm9w--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623683757586/MAR6IZiaz.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--SagfDm9w--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623683757586/MAR6IZiaz.png" alt="frame_generic_light (26).png" loading="lazy"></a></p>




<hr>

<p>Now that we have setup our new application, let us proceed to generate the credentials we are going to use in our <strong>Nodemailer</strong>.</p>

<ul>
<li>
From the page we stopped earlier 👆, click on the <strong>Credentials</strong> option at the sidebar 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--rjRwKDFh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623685109518/Ne0Hcol-F.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--rjRwKDFh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623685109518/Ne0Hcol-F.png" alt="frame_generic_light (29).png" loading="lazy"></a></p>

<p>-<br>
On the new page, click on <strong>Create Credentials</strong> and select the <strong>OAuth Client ID</strong> option from the dropdown 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IqjjqTjE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623685435247/y7XhLC1ws.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IqjjqTjE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623685435247/y7XhLC1ws.png" alt="frame_generic_light (30).png" loading="lazy"></a></p>

<ul>
<li>
On the next page, select <strong>Web application</strong> option from the dropdown, since we are building our application for the web 👇.</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--evt27vAX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623685708276/_y7_6_qZp.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--evt27vAX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623685708276/_y7_6_qZp.png" alt="frame_generic_light (31).png" loading="lazy"></a></p>

<ul>
<li>
Choose a client name 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Qr7H8K7m--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623685886068/3ek7xYu7g.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Qr7H8K7m--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623685886068/3ek7xYu7g.png" alt="frame_generic_light (32).png" loading="lazy"></a></p>

<ul>
<li>
Scroll to the bottom of the page and add  <a href="https://developers.google.com/oauthplayground">https://developers.google.com/oauthplayground</a> to the <strong>Authorized redirect urls</strong> section 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--XI--ynL0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623687329834/Qs16-lf66.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--XI--ynL0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623687329834/Qs16-lf66.png" alt="frame_generic_light (34).png" loading="lazy"></a></p>

<p>After adding the URL, click on the <span>Create</span> button and if everything goes well, you should receive an alert that your OAuth credentials have been created,  followed by this 👇 popup.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--EoOQ8vGd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623686342650/ULxkLmLyO.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--EoOQ8vGd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623686342650/ULxkLmLyO.png" alt="frame_generic_light (33).png" loading="lazy"></a></p>

<p>Copy your <strong>Client ID</strong> and your <strong>Client Secret</strong> key and keep them safe, because we will use it very soon.</p>

<p>At this point we have gotten 2 out of 3 credentials that we need to configure out <strong>nodemailer</strong>, the last credential we are looking for is the <strong>refreshToken</strong>, let's go it em 🎣.</p>




<hr>

<h3>
  <a name="generating-oauth-refresh-token" href="#generating-oauth-refresh-token">
  </a>
  Generating OAuth Refresh Token
</h3>

<p>We will be using the <strong>Client ID</strong> and the <strong>Client Secret</strong> to generate our refresh token.</p>

<p>(I hope you saved it earlier?)</p>

<p>If you, you can retrieve it from the <strong>credential</strong> tab 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--MABhBP7K--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623687913604/Kz_-LddDH.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--MABhBP7K--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623687913604/Kz_-LddDH.png" alt="frame_generic_light (35).png" loading="lazy"></a></p>

<ul>
<li>
### OAuth Playground</li>
</ul>

<p>Remember that we set the <strong>Authorized redirect urls</strong> to  <a href="https://developers.google.com/oauthplayground">https://developers.google.com/oauthplayground</a> ?</p>

<p>Now let's head to the playground to grab our refresh token 💃</p>

<p>click here 👉  <a href="https://developers.google.com/oauthplayground">https://developers.google.com/oauthplayground</a> </p>

<h4>
  <a name="on-the-oauth-playground" href="#on-the-oauth-playground">
  </a>
  On the OAuth Playground
</h4>

<ol>
<li>Click on the settings (gear icon)</li>
<li>Select the <strong>Use your own OAuth credentials</strong>
</li>
<li>Fill in your <strong>Client ID</strong> and <strong>Client Secret</strong> keys appropriately</li>
<li>Find and click <strong>Gmail API v1</strong> then select <em><a href="https://mail.googl.com/">https://mail.googl.com/</a></em> from the dropdown</li>
</ol>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--n63qpt6I--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623689079977/6nfrXGZeE.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--n63qpt6I--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623689079977/6nfrXGZeE.png" alt="frame_generic_light (37).png" loading="lazy"></a></p>

<p>Click on the <strong>Authorize APIs</strong> button.</p>

<ul>
<li>
You should be redirected to the page below, ensure to select the email address you added as a <strong>Test user</strong> 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--nw4OR5As--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623689427949/lJP0J37pr.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--nw4OR5As--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623689427949/lJP0J37pr.png" alt="frame_generic_light (38).png" loading="lazy"></a></p>

<blockquote>
<p>If you are denied access, then you should check your test user in the Google Cloud Platform</p>
</blockquote>

<ul>
<li>
Click on continue 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--l4l4xZVC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690097696/pCCJjXwED.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--l4l4xZVC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690097696/pCCJjXwED.png" alt="frame_generic_light (39).png" loading="lazy"></a></p>

<ul>
<li>
Grand the application access to your Gmail account 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--vJwVQBlL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690200520/g0JX3eQwP.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--vJwVQBlL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690200520/g0JX3eQwP.png" alt="frame_generic_light (40).png" loading="lazy"></a></p>

<p>And 👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IOdp3p3b--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690320461/L8aytCc9i.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IOdp3p3b--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690320461/L8aytCc9i.png" alt="frame_generic_light (41).png" loading="lazy"></a></p>

<ul>
<li>
You will be redirected back to the OAuth Playground, click on <strong>Exchange authorization code for tokens</strong> 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--qXwLEj6p--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690557359/Tr6S0O9sQn.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--qXwLEj6p--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690557359/Tr6S0O9sQn.png" alt="frame_generic_light (42).png" loading="lazy"></a></p>

<ul>
<li>
Copy the refresh token and keep it safe 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--NsfBmCh3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690779063/YCtHkM6Kn.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--NsfBmCh3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623690779063/YCtHkM6Kn.png" alt="frame_generic_light (43).png" loading="lazy"></a></p>

<h3>
  <a name="setting-up-google-transporter" href="#setting-up-google-transporter">
  </a>
  Setting up Google Transporter
</h3>

<p>Now that we have gotten our required credentials, let's update our nodemailer logic with the <code>googleapis</code> package.</p>

<p>install the google API using the code below</p>

<p><code></code>`<br>
yarn add googleapis</p>

<p>`<code></code></p>

<p>What we want to achieve below is to connect to our <strong>Google Playground</strong> and create a new token each time we need to send a mail and to achieve this, we need to dedicate a function named <strong>createTransport</strong> to <strong>connect to the playground</strong> and always create a new access token when we try to send a new email, with this we will never encounter expired token error.</p>

<p>The <code>createTransport</code> function 👇</p>

<p><code></code>`</p>

<p>// Googleapis<br>
const { google } = require("googleapis");</p>

<p>// Pull out OAuth2 from googleapis<br>
const OAuth2 = google.auth.OAuth2;</p>

<p>const createTransporter = async () =&gt; {<br>
// 1<br>
  const oauth2Client = new OAuth2(<br>
    process.env.OAUTH_CLIENT_ID,<br>
    process.env.OAUTH_CLIENT_SECRET,<br>
    "<a href="https://developers.google.com/oauthplayground">https://developers.google.com/oauthplayground</a>"<br>
  );</p>

<p>// 2<br>
  oauth2Client.setCredentials({<br>
    refresh_token: process.env.OAUTH_REFRESH_TOKEN,<br>
  });</p>

<p>const accessToken = await new Promise((resolve, reject) =&gt; {<br>
    oauth2Client.getAccessToken((err, token) =&gt; {<br>
      if (err) {<br>
        reject("Failed to create access token :( " + err);<br>
      }<br>
      resolve(token);<br>
    });<br>
  });</p>

<p>// 3<br>
  const transporter = nodemailer.createTransport({<br>
    service: "gmail",<br>
    auth: {<br>
      type: "OAuth2",<br>
      user: process.env.SENDER_EMAIL,<br>
      accessToken,<br>
      clientId: process.env.OAUTH_CLIENT_ID,<br>
      clientSecret: process.env.OAUTH_CLIENT_SECRET,<br>
      refreshToken: process.env.OAUTH_REFRESH_TOKEN,<br>
    },<br>
  });</p>

<p>// 4<br>
  return transporter;<br>
};</p>

<p>`<code></code></p>

<h3>
  <a name="explanation" href="#explanation">
  </a>
  Explanation
</h3>

<p>After importing the <code>googleapis</code> and pulling out <code>OAuth2</code>, let's see what we have in the <code>createTransporter</code> function.</p>

<h4>
  <a name="1-remember-this-" href="#1-remember-this-">
  </a>
  1. Remember this 👇?
</h4>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gofOQ3Mn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623698150196/aR-egfuaV.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gofOQ3Mn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623698150196/aR-egfuaV.png" alt="image.png" loading="lazy"></a></p>

<p>We can't always go to connect our application to the <strong>Google playground</strong> manually, this method here 👇 is automatically doing that for us.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--K99yBPwo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623697073219/237oAgSvg.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--K99yBPwo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623697073219/237oAgSvg.png" alt="Connect to Google playground" loading="lazy"></a></p>

<h4>
  <a name="2-remember-the-refresh-access-token-also" href="#2-remember-the-refresh-access-token-also">
  </a>
  2. Remember the refresh access token 👇 also?
</h4>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s---jEy_s5s--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623698422273/0aGBNAeRE.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---jEy_s5s--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623698422273/0aGBNAeRE.png" alt="image.png" loading="lazy"></a></p>

<p>The method below will automatically do that for us in other to keep the access token active, it requires the refresh token to generate a new access token, that is why we are passing the token from our <strong>environment-variable</strong> along with it.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--YtjXfqhn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623698595295/89j-zdurX.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--YtjXfqhn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623698595295/89j-zdurX.png" alt="Refresh Access Token.png" loading="lazy"></a></p>

<h5>
  <a name="3-we-are-authenticating-ourselves-as-the-owner-of-the-gmail-account-we-want-to-use-as-the-transport" href="#3-we-are-authenticating-ourselves-as-the-owner-of-the-gmail-account-we-want-to-use-as-the-transport">
  </a>
  3. We are authenticating ourselves as the owner of the Gmail account we want to use as the transport.
</h5>

<h5>
  <a name="4-we-are-returning-the-response-from-the-transport-authentication-approved-or-declined" href="#4-we-are-returning-the-response-from-the-transport-authentication-approved-or-declined">
  </a>
  4. we are returning the response from the transport authentication (approved or declined)
</h5>




<hr>

<p>Now that we have an understanding of what is going on, let us update our <strong>mailOptions</strong> and our <strong>sendMail</strong> method 👇</p>

<p><code></code>`<br>
 // Route to handle sending mails<br>
app.post("/send_email", (req, res) =&gt; {<br>
  attachmentUpload(req, res, async function (error) {<br>
    if (error) {<br>
      return res.send("Error uploading file");<br>
    } else {<br>
      // Pulling out the form data from the request body<br>
      const recipient = req.body.email;<br>
      const mailSubject = req.body.subject;<br>
      const mailBody = req.body.message;<br>
      const attachmentPath = req.file?.path;</p>

<pre class="highlight plaintext"><code>  // Mail options
  let mailOptions = {
    from: process.env.SENDER_EMAIL,
    to: recipient,
    subject: mailSubject,
    text: mailBody,
    attachments: [
      {
        path: attachmentPath,
      },
    ],
  };

  try {
    // Get response from the createTransport
    let emailTransporter = await createTransporter();

    // Send email
    emailTransporter.sendMail(mailOptions, function (error, info) {
      if (error) {
        // failed block
        console.log(error);
      } else {
        // Success block
        console.log("Email sent: " + info.response);
        return res.redirect("/success.html");
      }
    });
  } catch (error) {
    return console.log(error);
  }
}
</code></pre>

<p>});<br>
});</p>

<p>`<code></code></p>

<p>What we are doing above is to create an asynchronous function without our post route, because we are going to be waiting for a response from the <code>createTransportorer</code> function, we also created a new attachment key in our <strong>mailOpitons</strong> which will hold our attachment.</p>

<p>The try block is to catch any error that is going to occur during the process of connecting to the <strong>Google playground</strong> and sending out emails.</p>

<p>The if statement which serves as a conditional statement will check if there is an error and log it out, but if there is no error during the process, it will redirect to the success page.</p>

<p>Now let us test our code 💃</p>

<p>Because this article is long already, I have created a  <a href="https://gist.github.com/unclebay143/643675b5d9112f7b16dac7af60e81af9"><strong>Github Gist Here</strong></a> </p>

<p>Update your <code>index.js</code> file with the code from the <strong>Git</strong> 👆 and fill the form in your browser with an attachment, like below  👇</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--VDopQWqN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623700700290/RI11jhu1a.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VDopQWqN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623700700290/RI11jhu1a.png" alt="frame_generic_light (48).png" loading="lazy"></a></p>

<ul>
<li>Click on the send mail button, and if all goes well, you should be redirected to the <strong>Success Page</strong> 👇.</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--R3tQgOKs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623702207642/WI8plCd78.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--R3tQgOKs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623702207642/WI8plCd78.png" alt="frame_generic_light (52).png" loading="lazy"></a></p>

<ul>
<li>
Proceed to check your recipient mailbox, your sent e-mail should be received 💃.</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--J3Uml5Nf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623702169184/h32XS0PZs.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--J3Uml5Nf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623702169184/h32XS0PZs.png" alt="frame_generic_light (51).png" loading="lazy"></a></p>

<ul>
<li>Full mail body with attachment displayed 👇</li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Dl5qoyc8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623702355866/CQ8mGUQQnO.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Dl5qoyc8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623702355866/CQ8mGUQQnO.png" alt="image.png" loading="lazy"></a></p>




<hr>

<h3>
  <a name="cleaning-up" href="#cleaning-up">
  </a>
  Cleaning Up
</h3>

<p>Now that our project is complete, there is one important thing to do, which is deleting the attachments from our server document, everytime a mail has been sent, we don't want to keep the user's files, and these files can also take up huge space.</p>

<p>To achieve this, we need to install a package called <code>fs</code> 👇</p>

<p><code></code><code><br>
yarn add fs<br>
</code><code></code></p>

<blockquote>
<p>The fs package allows us to perform actions with our computer files through Node JS more info  <a href="https://nodejs.org/api/fs.html">HERE</a> </p>
</blockquote>

<p>Finally, let us update our <code>sendMail</code> method within the <strong>else</strong> success block with the code below 👇</p>

<p><code></code>`<br>
// Send email<br>
emailTransporter.sendMail(mailOptions, function (error, info) {<br>
  if (error) {<br>
    // failed block<br>
    console.log(error);<br>
  } else {<br>
    // Success block<br>
    console.log("Email sent: " + info.response);<br>
    fs.unlink(attachmentPath, function (err) {<br>
      if (err) {<br>
        return res.end(err);<br>
      } else {<br>
        console.log(attachmentPath + " has been deleted");<br>
        return res.redirect("/success.html");<br>
      }<br>
    });<br>
  }<br>
});</p>

<p>`<code></code></p>




<hr>

<p>You can get the completed Github Gist for the <code>index.js</code> file <a href="https://gist.github.com/unclebay143/d21748097ab04cbad551508f79d538d4">Here</a> </p>

<p>Now try to send another mail with an attachment to test if the sent files still remain in the folder, remember to manually remove the existing ones.</p>

<p>And that is how to implement a mailing application into your NODE JS project.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--QfrZvpT4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623766288820/jpCRyVgkZ.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--QfrZvpT4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623766288820/jpCRyVgkZ.gif" alt="giphy (6).gif" loading="lazy"></a></p>

<p>In this article, you just learned the basics of Node JS which includes Routing, rendering HTML files, integrating packages, working with Google APIs, and file handling to mention a few. This should get you started in using these technologies to build more stuff.</p>

<h3>
  <a name="useful-links" href="#useful-links">
  </a>
  Useful Links 👇
</h3>

<ul>
<li><p>Final Project Link: </p></li>
<li><p>Hosted Version Link: </p></li>
</ul>




<hr>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--E0SkZ0k2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623766314820/wfaXUoHmq.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--E0SkZ0k2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1623766314820/wfaXUoHmq.gif" alt="giphy (5).gif" loading="lazy"></a></p>




<p>%%[reaction-id]</p>




<hr>

<p>See you in the next article. Bye Bye 🙋‍♂️</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s---96uVdrc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1622627809083/3i7ThmW-M.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---96uVdrc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1622627809083/3i7ThmW-M.png" alt="image.png" loading="lazy"></a></p>

          </div>

        </div>
</div>
      </article>
    </div>
  </main>
</div>


<div class="mod-actions-menu print-hidden"></div>
<div id="mod-actions-menu-btn-area" class="print-hidden"></div>
<div data-testid="flag-user-modal-container" class="flag-user-modal-container hidden"></div>

<div class="fullscreen-code js-fullscreen-code"></div>
<script src="https://dev.to/packs/js/runtime~followButtons-dcfdd9725da59a1495e1.js" defer="defer"></script>
<script src="https://dev.to/packs/js/2-feac54b0d5293fd89992.chunk.js" defer="defer"></script>
<script src="https://dev.to/packs/js/followButtons-d2b8e231f0cb2b9978f6.chunk.js" defer="defer"></script>

  <script>
    var waitingOnPodcast = setInterval(function() {
  if (typeof initializePodcastPlayback !== 'undefined') {
    initializePodcastPlayback();
    clearInterval(waitingOnPodcast);
  }
}, 1);

    if (document.head.querySelector('meta[name="user-signed-in"][content="true"]')) {
  function displayPollResults(json) {
    var totalVotes = json.voting_data.votes_count;
    json.voting_data.votes_distribution.forEach(function(point) {
      var pollOptionItem = document.getElementById('poll_option_list_item_'+point[0]);
      var optionText = document.getElementById('poll_option_label_'+point[0]).textContent;
      if (json.user_vote_poll_option_id === point[0]) {
        var votedClass = 'optionvotedfor'
      } else {
        var votedClass = 'optionnotvotedfor'
      }
      if (totalVotes === 0) {
        var percent = 0;
      } else {
        var percent = (point[1]/totalVotes)*100;
      }
      var roundedPercent = Math.round( percent * 10 ) / 10
      var percentFromRight = (100-roundedPercent)
      var html = '<span><span class="ltag-votepercent ltag-'+votedClass+'" style="right:'+percentFromRight+'%"></span>        <span class="ltag-votepercenttext">'+optionText+' — '+roundedPercent+'%</span></span>';
      pollOptionItem.innerHTML = html;
      pollOptionItem.classList.add('already-voted')
      document.getElementById('showmethemoney-'+json.poll_id).innerHTML = '<span class="ltag-voting-results-count">'+totalVotes+' total votes</span>';
    })
  }

  var polls = document.getElementsByClassName('ltag-poll');
  for (var i = 0; i < polls.length; i += 1) {
    var poll = polls[i]
    var pollId = poll.dataset.pollId
    window.fetch('/poll_votes/'+pollId)
    .then(function(response){
      response.json().then(
        function(json) {
          if (json.voted) {
            displayPollResults(json)
          } else {
            var els = document.getElementById('poll_'+json.poll_id).getElementsByClassName('ltag-polloption');

            for (i = 0; i < els.length; i += 1) {
              els[i].addEventListener('click', function(e) {
                var tokenMeta = document.querySelector("meta[name='csrf-token']")
                if (!tokenMeta) {
                  alert('Whoops. There was an error. Your vote was not counted. Try refreshing the page.')
                  return
                }
                var csrfToken = tokenMeta.getAttribute('content')
                var optionId = e.target.dataset.optionId
                window.fetch('/poll_votes', {
                  method: 'POST',
                  headers: {
                    'X-CSRF-Token': csrfToken,
                    'Content-Type': 'application/json',
                  },
                  body: JSON.stringify({poll_vote: { poll_option_id: optionId } }),
                  credentials: 'same-origin',
                }).then(function(response){
                  response.json().then(function(j){displayPollResults(j)})
                })
              });
            }

            document.getElementById('showmethemoney-'+json.poll_id).addEventListener('click', function() {
              pollId = this.dataset.pollId
              window.fetch('/poll_skips', {
                method: 'POST',
                headers: {
                  'X-CSRF-Token': csrfToken,
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify({poll_skip: {poll_id: pollId }}),
                credentials: 'same-origin',
              }).then(function(response){
                response.json().then(function(j){displayPollResults(j)})
              })
            });
          }
        }
      )
    })
  }
} else {
    var els = document.getElementsByClassName('ltag-poll')
    for (i = 0; i < els.length; i += 1) {
      els[i].onclick = function(e) {
        if (typeof showLoginModal !== "undefined") {
          showLoginModal();
        }
      }
    }
}

    function activateRunkitTags() {
  if (!areAnyRunkitTagsPresent())
    return

  var checkRunkit = setInterval(function() {
    try {
      dynamicallyLoadRunkitLibrary()

      if (typeof(RunKit) === 'undefined') {
        return
      }

      replaceTagContentsWithRunkitWidget()
      clearInterval(checkRunkit);
    } catch(e) {
      console.error(e);
      clearInterval(checkRunkit);
    }
  }, 200);
}

function isRunkitTagAlreadyActive(runkitTag) {
  return runkitTag.querySelector("iframe") !== null;
};

function areAnyRunkitTagsPresent() {
  var presentRunkitTags = document.getElementsByClassName("runkit-element");

  return presentRunkitTags.length > 0
}

function replaceTagContentsWithRunkitWidget() {
  var targets = document.getElementsByClassName("runkit-element");
  for (var i = 0; i < targets.length; i++) {
    if (isRunkitTagAlreadyActive(targets[i])) {
      continue;
    }

    var wrapperContent = targets[i].textContent;
    if (/^(<iframe src)/.test(wrapperContent) === false) {
      if (targets[i].children.length > 0) {
        var preamble = targets[i].children[0].textContent;
        var content = targets[i].children[1].textContent;
        targets[i].innerHTML = "";
        var notebook = RunKit.createNotebook({
          element: targets[i],
          source: content,
          preamble: preamble
        });
      }
    }
  }
};

function dynamicallyLoadRunkitLibrary() {
  if (typeof(dynamicallyLoadScript) === "undefined")
    return

  dynamicallyLoadScript("//embed.runkit.com")
}

activateRunkitTags();

    var videoPreviews = document.getElementsByClassName("ltag__twitter-tweet__media__video-wrapper");
[].forEach.call(videoPreviews, function(el) {
  el.onclick = function(e) {
    var divHeight = el.offsetHeight;
    el.style.maxHeight = divHeight + "px";
    el.getElementsByClassName("ltag__twitter-tweet__media--video-preview")[0].style.display = "none";
    el.getElementsByClassName("ltag__twitter-tweet__video")[0].style.display = "block";
    el.getElementsByTagName("video")[0].play();
  }
});
var tweets = document.getElementsByClassName("ltag__twitter-tweet__main");
[].forEach.call(tweets, function(tweet){
  tweet.onclick = function(e) {
    if (e.target.nodeName == "A" || e.target.parentElement.nodeName == "A") {
      return;
    }
    window.open(tweet.dataset.url,"_blank");
  }
});

    var subscribeBtn = document.getElementById('subscribe-btn');

function isUserSignedIn() {
  return document.head.querySelector('meta[name="user-signed-in"][content="true"]') !== null;
}

// Hiding/showing elements
// If clearSubscribeButton is false, we will not clear out the subscription-signed-in area,
// which will allow users to re-submit their subscription if they see any error messages.
// ***************************************
function clearSubscriptionArea({ clearSubscribeButton = true } = {}) {
  if (!clearSubscribeButton) {
    // Allow users to try submitting again if they see an error.
    hideSubscriptionSignedIn();
  }

  const subscriptionSignedOut = document.getElementById('subscription-signed-out');
  if (subscriptionSignedOut) {
    subscriptionSignedOut.classList.add("hidden");
  }

  hideResponseMessage();

  const subscriberAppleAuth = document.getElementById('subscriber-apple-auth');
  if (subscriberAppleAuth) {
    subscriberAppleAuth.classList.add("hidden");
  }

  hideConfirmationModal();
}

// Hides the response message (which displays success/error messages) if it exists.
// ***************************************
function hideResponseMessage() {
  const responseMessage = document.getElementById('response-message');
  if (responseMessage) {
    responseMessage.classList.add("hidden");
  }
}

function showSignedIn() {
  clearSubscriptionArea();
  const subscriptionSignedIn = document.getElementById('subscription-signed-in');
  if (subscriptionSignedIn) {
    subscriptionSignedIn.classList.remove("hidden");
  }

  const profileImages = document.getElementById('profile-images');
  if (profileImages) {
    profileImages.classList.remove("signed-out");
    profileImages.classList.add("signed-in");
  }
}

function showSignedOut() {
  clearSubscriptionArea();

  const subscriptionSignedOut = document.getElementById('subscription-signed-out');
  if (subscriptionSignedOut) {
    subscriptionSignedOut.classList.remove("hidden");
  }

  const profileImages = document.getElementById('profile-images');
  if (profileImages) {
    profileImages.classList.remove("signed-in");
    profileImages.classList.add("signed-out");
  }

  const subscriberProfileImage = document.getElementsByClassName('ltag__user-subscription-tag__subscriber-profile-image')[0];
  if (subscriberProfileImage) {
    subscriberProfileImage.classList.add("hidden");
  }
}

function showResponseMessage(noticeType, msg) {
  clearSubscriptionArea(clearSubscribeButton = false);

  const responseMessage = document.getElementById('response-message');
  if (responseMessage) {
    responseMessage.classList.remove("hidden");
    responseMessage.classList.add(`crayons-notice--${noticeType}`);
    responseMessage.textContent = msg;

    if (noticeType === 'danger') {
      // Allow users to try resubscribing if they see an error message.
      subscribeBtn.textContent = "Submit";
      subscribeBtn.disabled = false;
    }
  }
}

function showAppleAuthMessage() {
  clearSubscriptionArea();
  const subscriber = userData();
  if (subscriber) {
    updateProfileImages('.ltag__user-subscription-tag__subscriber-profile-image', subscriber);
  }

  const subscriberAppleAuth = document.getElementById('subscriber-apple-auth');
  if (subscriberAppleAuth) {
    subscriberAppleAuth.classList.remove("hidden");
  }
}

function showSubscribed() {
  hideSubscriptionSignedIn();
  updateSubscriberData();
  const authorUsername = document.getElementById('user-subscription-tag')?.dataset.authorUsername;
  const alreadySubscribedMsg = `You are already subscribed.`;
  showResponseMessage('success', alreadySubscribedMsg);
}

function showConfirmationModal() {
  const confirmationModal = document.getElementById('user-subscription-confirmation-modal');
  if (confirmationModal) {
    confirmationModal.classList.remove("hidden");
  }
}

function hideConfirmationModal() {
  const confirmationModal = document.getElementById('user-subscription-confirmation-modal');
  if (confirmationModal) {
    confirmationModal.classList.add("hidden");
  }
}

// Updating DOM elements
// ***************************************
function updateSubscriberData() {
  const subscriber = userData();
  if (subscriber.email) {
    updateElementsTextContent('.ltag__user-subscription-tag__subscriber-email', subscriber.email);
  }

  updateProfileImages('.ltag__user-subscription-tag__subscriber-profile-image', subscriber);
}

function updateElementsTextContent(identifier, value) {
  const elements = document.querySelectorAll(identifier);

  elements.forEach(function(element) {
    element.textContent = value;
  });
}

function updateProfileImages(identifier, subscriber) {
  const profileImages = document.querySelectorAll(`img${identifier}`);

  profileImages.forEach(function(profileImage) {
    profileImage.src = subscriber.profile_image_90;
    profileImage.alt = `${subscriber.username} profile image`;
  });
}

function hideSubscriptionSignedIn() {
  const subscriptionSignedIn = document.getElementById('subscription-signed-in');
  if (subscriptionSignedIn) {
    subscriptionSignedIn.classList.add("hidden");
  }
}

// Adding event listeners for 'click'
// ***************************************
function addSignInClickHandler() {
  const signInBtn = document.getElementById('sign-in-btn');
  if (signInBtn) {
    signInBtn.addEventListener('click', function(e) {
      if (typeof showLoginModal !== 'undefined') {
        showLoginModal();
      }
    });
  }
}

function addConfirmationModalClickHandlers() {
  if (subscribeBtn) {
    subscribeBtn.addEventListener('click', function(e) {
      showConfirmationModal();
    });
  }

  const cancelBtn = document.getElementById('cancel-btn');
  if (cancelBtn) {
    cancelBtn.addEventListener('click', function(e) {
      hideConfirmationModal();
    });
  }

  const closeConfirmationModal = document.getElementById('close-confirmation-modal');
  if (closeConfirmationModal) {
    closeConfirmationModal.addEventListener('click', function(e) {
      hideConfirmationModal();
    });
  }

  const confirmationModal = document.getElementById('confirmation-btn')
  if (confirmationModal) {
    confirmationModal.addEventListener('click', function(e) {
      handleSubscription();
    });
  }
}

// API calls
// ***************************************
function submitSubscription() {
  // Hide any error messages previously rendered.
  hideResponseMessage();

  subscribeBtn.textContent = "Submitting...";
  subscribeBtn.disabled = true;

  const headers = {
    Accept: 'application/json',
    'X-CSRF-Token': window.csrfToken,
    'Content-Type': 'application/json',
  }

  const articleBody = document.getElementById('article-body');
  const articleId = (articleBody ? articleBody.dataset.articleId : null);

  const subscriber = userData();
  const body = JSON.stringify(
      {
        user_subscription: {
          source_type: 'Article',
          source_id: articleId,
          subscriber_email: subscriber.email
        }
      }
    )

  return fetch('/user_subscriptions', {
    method: 'POST',
    headers: headers,
    credentials: 'same-origin',
    body: body,
  }).then(function(response) {
    return response.json();
  });
}

function fetchIsSubscribed() {
  const articleBody = document.getElementById('article-body');
  const articleId = (articleBody ? articleBody.dataset.articleId : null);

  const params = new URLSearchParams({
    source_type: 'Article',
    source_id: articleId
  }).toString();

  const headers = {
    Accept: 'application/json',
    'X-CSRF-Token': window.csrfToken,
    'Content-Type': 'application/json',
  }

  return fetch(`/user_subscriptions/subscribed?${params}`, {
    method: 'GET',
    headers: headers,
    credentials: 'same-origin',
  }).then(function(response) {
    if (response.ok) {
      return response.json();
    } else {
      console.error(`Base data error: ${response.status} - ${response.statusText}`);
    }
  });
}

// Handle API responses
// ***************************************
function handleSubscription() {
  hideConfirmationModal(); // Close the modal once the user has confirmed.

  submitSubscription().then(function(response) {
    if (response.success) {
      const userSubscriptionTag = document.getElementById('user-subscription-tag');
      const authorUsername = (userSubscriptionTag ? userSubscriptionTag.dataset.authorUsername : null);
      const successMsg = `You are now subscribed and may receive emails from ${authorUsername}`;
      showResponseMessage('success', successMsg);
      hideSubscriptionSignedIn();
    } else {
      showResponseMessage('danger', response.error);
    }
  });
}

function checkIfSubscribed() {
  fetchIsSubscribed().then(function(response) {
    const subscriber = userData();
    const isSubscriberAuthedWithApple = (subscriber.email ? subscriber.email.endsWith('@privaterelay.appleid.com') : false);

    if (response.is_subscribed) {
      showSubscribed();
    } else if (isSubscriberAuthedWithApple) {
      showAppleAuthMessage();
    } else {
      updateSubscriberData();
    }
  });
}

// We load this JS on every Article. This is to only run it on Articles
// where the UserSubscription liquid tag is present
if (document.getElementById('user-subscription-tag')) {
  // The markup defaults to signed out UX
  if (isUserSignedIn()) {
    showSignedIn();
    addConfirmationModalClickHandlers();

    // We need access to some DOM elements (i.e. csrf token, article id, userData, etc.)
    document.addEventListener('DOMContentLoaded', function() {
      checkIfSubscribed();
    });
  } else {
    showSignedOut();
    addSignInClickHandler();
  }
}

  </script>

    <div id="runtime-banner-container"></div>
  </div>
</div>
<div id="snack-zone"></div>

    <div id="global-signup-modal" class="authentication-modal hidden">
  <div class="authentication-modal__container">
    <figure class="authentication-modal__image-container">
      <img class="authentication-modal__image" src="https://res.cloudinary.com/practicaldev/image/fetch/s--pcSkTMZL--/c_limit,f_auto,fl_progressive,q_80,w_190/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png"
        alt="DEV Community" loading="lazy" />
    </figure>
    <div class="authentication-modal__content">
      <p class="authentication-modal__description">
          We&#39;re a place where coders share, stay up-to-date and grow their careers.
      </p>
    </div>
    <div class="authentication-modal__actions">
      <a href="/enter" class="crayons-btn" aria-label="Log in" data-no-instant>
        Log in
      </a>
      <a href="/enter?state=new-user" class="crayons-btn crayons-btn--ghost-brand" aria-label="Create new account" data-no-instant>
        Create account
      </a>
    </div>
  </div>
</div>

<script src="https://dev.to/packs/js/runtime~signupModalShortcuts-bf290c013924ff5134ac.js" defer="defer"></script>
<script src="https://dev.to/packs/js/signupModalShortcuts-8ec503d9a2ff8730bc02.chunk.js" defer="defer"></script>

  <div id="i18n-translations" data-translations="{&quot;en&quot;:{&quot;core&quot;:{&quot;add_comment&quot;:&quot;Add comment&quot;,&quot;analytics&quot;:&quot;Analytics&quot;,&quot;comment&quot;:&quot;Comment&quot;,&quot;comments&quot;:&quot;Comments&quot;,&quot;community_name_is_great&quot;:&quot;%{community_name} is great!&quot;,&quot;copy_link&quot;:&quot;Copy link&quot;,&quot;create_account&quot;:&quot;Create account&quot;,&quot;dashboard&quot;:&quot;Dashboard&quot;,&quot;edit_profile&quot;:&quot;Edit profile&quot;,&quot;follow&quot;:&quot;Follow&quot;,&quot;follow_back&quot;:&quot;Follow back&quot;,&quot;follower&quot;:&quot;Follower&quot;,&quot;followers&quot;:&quot;Followers&quot;,&quot;following&quot;:&quot;Following&quot;,&quot;joined&quot;:&quot;Joined&quot;,&quot;joined_on&quot;:&quot;Joined on&quot;,&quot;like&quot;:&quot;Like&quot;,&quot;listings&quot;:&quot;Listings&quot;,&quot;loading&quot;:&quot;loading...&quot;,&quot;location&quot;:&quot;Location&quot;,&quot;log_in&quot;:&quot;Log in&quot;,&quot;more_from&quot;:&quot;More from&quot;,&quot;pinned&quot;:&quot;Pinned&quot;,&quot;post&quot;:&quot;Post&quot;,&quot;posts&quot;:&quot;Posts&quot;,&quot;reaction&quot;:&quot;Reaction&quot;,&quot;reaction_pluralized&quot;:{&quot;one&quot;:&quot;reaction&quot;,&quot;other&quot;:&quot;reactions&quot;},&quot;reactions&quot;:{&quot;heart&quot;:&quot;Heart&quot;,&quot;save&quot;:&quot;Save&quot;,&quot;unicorn&quot;:&quot;Unicorn&quot;},&quot;reply&quot;:&quot;Reply&quot;,&quot;report_abuse&quot;:&quot;Report abuse&quot;,&quot;search&quot;:&quot;Search&quot;,&quot;series&quot;:&quot;Series&quot;,&quot;settings&quot;:&quot;Settings&quot;,&quot;trending_on&quot;:&quot;Trending on&quot;}}}"></div>
  </body>
  </html>
